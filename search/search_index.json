{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to MkDocs For full documentation visit mkdocs.org . mkdocs getting-started Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Home"},{"location":"#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org . mkdocs getting-started","title":"Welcome to MkDocs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"redis/","text":"\u5b66 Redis","title":"\u5b66 Redis"},{"location":"redis/#redis","text":"","title":"\u5b66 Redis"},{"location":"redis/redis-langfei/","text":"\u8f6c\u81ea\uff1a \u6d6a\u98deyes - Redis\u6781\u7b80\u5165\u95e8\uff1a\u7eaf\u5c0f\u767d\u6210\u957f\u4e3a\u5927\u767d\uff0c\u53ea\u97004\u4e2a\u534a\u5c0f\u65f6~ \u6559\u5b66\u76ee\u6807 1>\u4e86\u89e3NoSQL\u6982\u5ff5 2>\u4e86\u89e3Redis\u6982\u5ff5\uff0c\u5b9a\u4f4d\uff0c\u4f18\u70b9\uff0c\u7f3a\u70b9 3>\u638c\u63e1Redis\u5e38\u7528\u4e94\u5927\u7c7b\u578b 4>\u638c\u63e1Redis Key \u4e0eValue\u503c\u8bbe\u8ba1 5>\u638c\u63e1Redis\u5168\u5c40\u547d\u4ee4 6>\u638c\u63e1Redis \u5b89\u5168\u4e0e\u4e8b\u52a1\u64cd\u4f5c 7>\u4e86\u89e3Redis\u6301\u4e45\u5316\u7b56\u7565 8>\u4e86\u89e3Redis\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e0e\u8fc7\u671fKey\u6e05\u7406 9>\u638c\u63e1Java\u96c6\u6210Redis\u64cd\u4f5c 10>\u5b8c\u6210\u7efc\u5408\u6848\u4f8b\u8bbe\u8ba1\u4e0e\u5b9e\u73b0 \u8ba4\u8bc6 Redis \u6570\u636e\u5e93\u5206\u7c7b \u76ee\u524d\u6570\u636e\u5e93\u5206\uff1a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e0e\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93 \u5e38\u7528\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff1a Oracle\uff0c MySQL \uff0cSqlServer\uff0cDB2 \u5e38\u7528\u7684\u975e\u5173\u7cfb\u6570\u636e\u5e93\uff1a Redis \uff0cMongoDB\uff0cElasticSearch\uff0c Hbase\uff0cNeo4j \u90a3\u5565\u662f\u975e\u5173\u7cfb\u6570\u636e\u5e93\u5462\uff1f\u6b64\u5904\u6d89\u53ca\u5230\u65b0\u540d\u8bcd\uff1aNoSQL NoSQL \u6700\u5e38\u89c1\u7684\u89e3\u91ca\u662f\u201cnon-relational\u201d\uff0c \u201cNot Only SQL\u201d\u4e5f\u88ab\u5f88\u591a\u4eba\u63a5\u53d7\u3002NoSQL\u4ec5\u4ec5\u662f\u4e00\u4e2a\u6982\u5ff5\uff0c\u6cdb\u6307\u975e\u5173\u7cfb\u578b\u7684\u6570\u636e\u5e93\uff0c\u533a\u522b\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\uff0c\u5b83\u4eec\u4e0d\u4fdd\u8bc1\u5173\u7cfb\u6570\u636e\u7684ACID\u7279\u6027\u3002\u8be6\u60c5\u89c1\uff1a\u767e\u5ea6\u767e\u79d1\uff1ahttps://baike.baidu.com/item/NoSQL/8828247?fr=aladdin \u7ecf\u5178\u6848\u4f8b * NoSQL\u5206\u7c7b * \u4ec0\u4e48\u662fRedis Redis\u7b80\u4ecb \u662f\u4ee5key-value\u5f62\u5f0f\u5b58\u50a8,\u548c\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e0d\u4e00\u6837.\u4e0d\u4e00\u5b9a\u9075\u5faa\u4f20\u7edf\u6570\u636e\u5e93\u7684\u4e00\u4e9b\u57fa\u672c\u8981\u6c42.(\u975e\u5173\u7cfb\u578b\u7684,\u5206\u5e03\u5f0f\u7684,\u5f00\u6e90\u7684,\u6c34\u5e73\u53ef\u62d3\u5c55\u7684) \u4f18\u70b9: \u5bf9\u6570\u636e\u9ad8\u5e76\u53d1\u8bfb\u5199 (\u76f4\u63a5\u662f\u5185\u5b58\u4e2d\u8fdb\u884c\u8bfb\u5199\u7684) \u5bf9\u6d77\u91cf\u6570\u636e\u7684\u9ad8\u6548\u7387\u5b58\u50a8\u548c\u8bbf\u95ee \u5bf9\u6570\u636e\u7684\u53ef\u62d3\u5c55\u6027\u548c\u9ad8\u53ef\u7528\u6027. \u5355\u7ebf\u7a0b\u64cd\u4f5c ,\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u662f\u539f\u5b50\u64cd\u4f5c,\u6ca1\u6709\u5e76\u53d1\u76f8\u5173\u95ee\u9898(redis 6) \u7f3a\u70b9: redis(ACID\u5904\u7406\u975e\u5e38\u7b80\u5355) \u65e0\u6cd5\u505a\u592a\u590d\u6742\u7684\u5173\u7cfb\u6570\u636e\u5e93\u6a21\u578b * \u8c01\u5728\u7528Redis \u6bd4\u8f83\u8457\u540d\u7684\u516c\u53f8\u6709\uff1a github\u3001blizzard\u3001stackoverflow\u3001flickr \u56fd\u5185 \u65b0\u6d6a\u5fae\u535a\uff08\u5168\u7403\u6700\u5927\u7684redis\u96c6\u7fa4\uff09\u30102017\u3011 2200+\u4ebf commands/day 5000\u4ebfRead/day 500\u4ebfWrite/day 18TB+ Memory 500+ Servers in 6 IDC 2000+instances \u6dd8\u5b9d \u817e\u8baf\u5fae\u535a \u600e\u4e48\u5b66redis redis\u5728\u7ebf\u5165\u95e8 \uff1a http://try.redis.io/ redis \u4e2d\u6587\u8d44\u6599\u7ad9\uff1a http://www.redis.cn/ https://www.runoob.com/redis/redis-tutorial.html Redis\u7684\u5b89\u88c5 \u9898\u5916\u8bdd\uff1a Redis\u662f\u4f7f\u7528C\u5199\u7684\u7a0b\u5e8f\uff0c\u76ee\u524d\u4e3b\u6d41\u5728Linux\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b98\u65b9\u4e0d\u63d0\u4f9bWindow\u7248\uff0c\u6700\u65b0\u7684Redis\u7248\uff1aRedis7.x \u5b98\u7f51\u4e0b\u8f7d\uff1ahttps://redis.io/download/ Redis \u7684Window\u7248\u662f\u5fae\u8f6f\u516c\u53f8\u81ea\u884c\u79fb\u690d\u7684\uff0c\u76ee\u524d\u6700\u65b0\u7248\uff1aRedis-x64-3.2.100 window\u7248\uff1ahttps://github.com/microsoftarchive/redis/releases/tag/win-3.2.100 \u65b0\u7248\u63a7\u7684\u540c\u5b66\uff1a 1>\u8d2d\u4e70\u963f\u91cc\u4e91Redis https://www.aliyun.com/minisite/goods?taskPkg=amb618all&pkgSid=442814&recordId=4183761&userCode=sd4xtwwm 2>\u8d2d\u4e70\u963f\u91cc\u4e91ECS \u8d2d\u4e70\u670d\u52a1\u5668\uff0c\u81ea\u5df1\u642d\u5efa\u6700\u65b0\u7248\u7684Redis 3>\u5b89\u88c5\u865a\u62df\u673a\uff1aLinux\uff0c\u518d\u5b89\u88c5\u6700\u65b0\u7248Redis \u8fd9\u4e2a\uff0c\u9879\u76ee\u4e09\u8bb2Linux\u64cd\u4f5c\u7cfb\u7edf\u65f6\u518d\u6559\u3002 \u670d\u52a1\u7aef \u7248\u672c\uff1aRedis-x64-3.2.100.msi \u50bb\u74dc\u5f0f\u5b89\u88c5,\u4e0b\u4e00\u6b65,\u4e0b\u4e00\u6b65\u5c31\u53ef\u4ee5\u4e86 \u6ce8\u610f\uff1a\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d * \u6ce8\u610f\uff1a\u9ed8\u8ba4\u7aef\u53e3 * \u6ce8\u610f\uff1a\u6700\u5927\u5185\u5b58 * \u6d4b\u8bd5\u662f\u5426\u6210\u529f * * \u5ba2\u6237\u7aef --redisclient \u6253\u5f00CMD\u547d\u4ee4\u6846\uff0c\u8f93\u5165\u547d\u4ee4\uff1a java -jar redisclient.jar \u5ba2\u6237\u7aef --RedisDesktopClient \u5ba2\u6237\u7aef --rdm \u6570\u636e\u7c7b\u578b \u6982\u51b5 Redis\u652f\u6301\u7684\u5b58\u50a8\u6570\u636e\u7c7b\u578b\u6709\u5f88\u591a\uff1a \u5e38\u7528\uff1a string \uff08\u5b57\u7b26\u4e32\uff09\uff0c hash \uff08\u54c8\u5e0c\uff09\uff0c list \uff08\u5217\u8868\uff09\uff0c set \uff08\u96c6\u5408\uff09\u53ca zset (sorted set\uff1a\u6709\u5e8f\u96c6\u5408) \u4e0d\u5e38\u7528\uff1aHyperLogLog\uff0cBitmap(\u4f4d\u56fe)\uff0cBloom Filter(\u5e03\u9686\u8fc7\u6ee4\u5668)\uff0cGeospatial(\u5730\u7406\u4f4d\u7f6e) \uff0cModule(\u6a21\u5757)\uff0c Streams(\u6d41\u4fe1\u606f) \u6b64\u5904\u91cd\u70b9\u8bb2\u89e3\u5e38\u7528\u7684\u7c7b\u578b\u3002 \u547d\u4ee4\u683c\u5f0f \u7c7b\u578b\u547d\u4ee4 key \u53c2\u6570\u6570\u636e set name dafei \u64cd\u4f5c\u5efa\u8bae Redis\u64cd\u4f5c\u6709\u70b9\u7c7b\u4f3cJava\u7684Map\u96c6\u5408\uff0c\u90fd\u662fkey-value\u5f62\u5f0f\u5b58\u50a8\u6570\u636e\uff0c\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u8fdb\u884c\u7c7b\u6bd4\u3002 \u53e6\u5916Redis\u4e2d\u7684key\u5927\u90e8\u5206\u4e3aString\u7c7b\u578b\uff0cvalue\u503c\u6839\u636e\u7f13\u5b58\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u9009\u7528\uff1astring\uff0chash\uff0clist\uff0cset\uff0czset\u7b49\u7c7b\u578b\u3002 \u6ce8\u610f\uff1a\u4e0b\u9762\u8bb2\u7684\u5404\u79cd\u7c7b\u578b\uff0c\u8868\u8ff0\u7684\u662f\u7f13\u5b58\u6570\u636e\u7684value\u7c7b\u578b\u3002 String\u7c7b\u578b String\u7c7b\u578b\u5305\u542b\u591a\u79cd\u7c7b\u578b\u7684\u7279\u6b8a\u7c7b\u578b\uff0c\u5e76\u4e14\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\uff0c\u5176\u503c\u53ef\u4ee5\u662f\u6570\u503c\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u6570\u636e\u3002 \u7c7b\u4f3cJava\u4e2d\uff1a Map map \u5728Redis\u5185\u5bb9\u6570\u636e\u5b58\u50a8\u7ed3\u6784\uff1a * \u5e38\u7528\u7684\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b set key value \u5c06key-value\u7f13\u5b58redis\u4e2d set name dafei get key \u4eceredis\u4e2d\u83b7\u53d6key\u5bf9\u5e94value\u503c get name incr key \u5c06key\u5bf9\u5e94value\u503c + 1 incr age decr key \u5c06key\u5bf9\u5e94value\u503c-1 decr age setex key seconds value \u5c06key-value\u7f13\u5b58\u5230redis\u4e2d\uff0cseconds \u79d2\u540e\u5931\u6548 setex sex 10 man ttl key \u67e5\u770bkey\u5b58\u6d3b\u65f6\u95f4 ttl sex del key \u4eceredis\u4e2d\u5220\u9664key del name setnx key value \u5982\u679ckey\u5df2\u7ecf\u5b58\uff0c\u4e0d\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u5982\u679ckey\u4e0d\u5b58\uff0c\u76f4\u63a5\u6dfb\u52a0 setnx name xiaofei \u975e\u5e38\u7528\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b incrby key increment \u7ed9key\u5bf9\u5e94\u503c\u52a0increment incrby age 10 mset k1 v1 k2 v2.... \u6279\u91cf\u6dfb\u52a0k1v1 k2v2 key value\u5bf9 mset name dafei age 18 mget k1 k2.... \u6279\u91cf\u83b7\u53d6k1, k2\u7684\u503c mget name age append key value \u5728key\u5bf9\u5e94\u7684value\u503c\u4e2d\u62fc+value append name yes setrange key offset value \u4fee\u6539key\u5bf9\u5e94\u7684value\u503c,\u66ff\u6362\u4e3a\u6307\u5b9avalue,\u51b2offset\u7d22\u5f15\u4f4d\u7f6e\u5f00\u59cb setrange name 2 xx \u5e94\u7528\u573a\u666f 1>\u8ba1\u6570\u5668 \u5982\uff1a\u89c6\u9891\u64ad\u653e\u6570\u7cfb\u7edf\u5c31\u662f\u4f7f\u7528redis\u4f5c\u4e3a\u89c6\u9891\u64ad\u653e\u6570\u8ba1\u6570\u7684\u57fa\u7840\u7ec4\u4ef6\u3002 incr viewnum 1 2>\u5171\u4eabsession \u51fa\u4e8e\u8d1f\u8f7d\u5747\u8861\u7684\u8003\u8651\uff0c\u5206\u5e03\u5f0f\u670d\u52a1\u4f1a\u5c06\u7528\u6237\u4fe1\u606f\u7684\u8bbf\u95ee\u5747\u8861\u5230\u4e0d\u540c\u670d\u52a1\u5668\u4e0a\uff0c\u7528\u6237\u5237\u65b0\u4e00\u6b21\u8bbf\u95ee\u53ef\u80fd\u4f1a\u9700\u8981\u91cd\u65b0\u767b\u5f55\uff0c\u4e3a\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u7528redis\u5c06\u7528\u6237session\u96c6\u4e2d\u7ba1\u7406\uff0c \u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\u53ea\u8981\u4fdd\u8bc1redis\u7684\u9ad8\u53ef\u7528\u548c\u6269\u5c55\u6027\u7684\uff0c\u6bcf\u6b21\u83b7\u53d6\u7528\u6237\u66f4\u65b0\u6216\u67e5\u8be2\u767b\u5f55\u4fe1\u606f\u90fd\u76f4\u63a5\u4eceredis\u4e2d\u96c6\u4e2d\u83b7\u53d6\u3002 user_login_info:uid---->{\"id\":1, \"name\":\"dafei\", \"age\":18} Hash\u7c7b\u578b Hash\u7c7b\u578b\u662fString\u7c7b\u578b\u7684field\u548cvalue\u7684\u6620\u5c04\u8868\uff0c\u6216\u8005\u8bf4\u662f\u4e00\u4e2aString\u96c6\u5408\u3002\u5b83\u7279\u522b\u9002\u5408\u5b58\u50a8\u5bf9\u8c61\uff0c\u76f8\u6bd4\u8f83\u800c\u8a00\uff0c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u5b58\u50a8\u5728Hash\u7c7b\u578b\u91cc\u8981\u6bd4\u5b58\u50a8\u5728String\u7c7b\u578b\u91cc\u5360\u7528\u66f4\u5c11\u7684\u5185\u5b58\u7a7a\u95f4\u3002 \u7c7b\u4f3cJava\u4e2d\uff1a Map > map * \u5e38\u7528\u7684\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b hset key field value \u5c06field value\u5bf9\u7f13\u5b58\u5230redis\u4e2dhash\u4e2d\uff0c\u952e\u503c\u4e3akey hset user name dafei hget key field \u4ecekey\u5bf9\u5e94hash\u5217\u8868\u4e2d\u83b7\u53d6field\u5b57\u6bb5 hget user name hexists key field \u5224\u65adkey\u5bf9\u5e94\u7684hash\u5217\u8868\u662f\u5426\u5b58\u5728 field\u5b57\u6bb5 hexists user age hdel key field \u5220\u9664key\u5bf9\u5e94hash\u5217\u8868\u4e2dfield\u5b57\u6bb5 hdel user age hincrby key field increment \u7ed9key\u5bf9\u5e94hash\u5217\u8868\u4e2dfield\u5b57\u6bb5 + increment hincrby user age 10 hlen key \u67e5\u770bkey\u5bf9\u5e94\u7684hash\u5217\u8868field\u7684\u6570\u91cf hlen user hkeys key \u83b7\u53d6key\u5bf9\u5e94\u7684hash\u5217\u8868\u6240\u6709\u7684field\u503c hkeys user hvals key \u83b7\u53d6key\u5bf9\u5e94\u7684hash\u5217\u8868\u6240\u6709\u7684field\u5bf9\u5e94\u7684value\u503c kvals user hgetall key \u83b7\u53d6key\u5bf9\u5e94\u7684hash\u5217\u8868\u4e2d\u6240\u6709\u7684field\u53ca\u5176\u5bf9\u5e94\u7684value\u503c hgetall user \u5e94\u7528\u573a\u666f Hash\u7ed3\u6784\u76f8\u5bf9\u4e8e\u5b57\u7b26\u4e32\u5e8f\u5217\u5316\u7f13\u5b58\u4fe1\u606f\u66f4\u52a0\u76f4\u89c2\uff0c\u5e76\u4e14\u5728\u66f4\u65b0\u64cd\u4f5c\u4e0a\u66f4\u52a0\u4fbf\u6377\u3002 \u5171\u4eabsession\u8bbe\u8ba1 public class User{ private String userame; private String password; private int age; } \u767b\u5f55\u7528\u6237\uff1a User user = new User(\"dafei\", \"666\", 18); \u767b\u5f55\u7f13\u5b58\uff1a key\uff1a user_token value\uff1a new User(\"dafei\", \"666\", 18) ---------------------------------------------------------------------------------------------- \u65b9\u68481\uff1a \u5c06user\u5bf9\u8c61\u8f6c\u6362json\u683c\u5f0f\u5b57\u7b26\u4e32\u5b58redis \u3010\u4fa7\u91cd\u4e8e\u67e5\uff0c \u6539\u975e\u5e38\u9ebb\u70e6\u3011 key value --------------------------------------------------------------------------------------------- user_token \uff1a \"{name:dafei, age:18, password:666}\" \u65b9\u68482\uff1a \u5c06user\u5bf9\u8c61\u8f6c\u6362hash\u5bf9\u8c61\u5b58redis\u3010\u4fa7\u91cd\u4e8e\u6539\uff0c\u67e5\u8be2\u76f8\u5bf9\u9ebb\u70e6\u3011 key value --------------------------------------------------------------------------------------------- user_token \uff1a { \u200b name\uff1addafei \u200b age \uff1a 18 \u200b password\uff1a 666 \u200b } List\u7c7b\u578b Redis\u4e2d\u7684List\u7c7b\u4f3cJava\u4e2d\u7684Queue,\u4e5f\u53ef\u4ee5\u5f53\u505aList\u6765\u7528. List\u7c7b\u578b\u662f\u4e00\u4e2a\u94fe\u8868\u7ed3\u6784\u7684\u96c6\u5408\uff0c\u5176\u4e3b\u8981\u529f\u80fd\u6709push\u3001pop\u3001\u83b7\u53d6\u5143\u7d20\u7b49\uff0c\u66f4\u8be6\u7ec6\u7684\u8bf4,List\u7c7b\u578b\u662f\u4e00\u4e2a\u53cc\u7aef\u94fe\u8868\u7684\u7ed3\u6784\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u76f8\u5173\u64cd\u4f5c\u8fdb\u884c\u96c6\u5408\u7684\u5934\u90e8\u6216\u8005\u5c3e\u90e8\u6dfb\u52a0\u5220\u9664\u5143\u7d20\uff0cList\u7684\u8bbe\u8ba1\u975e\u5e38\u7b80\u5355\u7cbe\u5de7\uff0c\u5373\u53ef\u4ee5\u4f5c\u4e3a\u6808,\u53c8\u53ef\u4ee5\u4f5c\u4e3a\u961f\u5217\uff0c\u6ee1\u8db3\u7edd\u5927\u591a\u6570\u9700\u6c42. \u7c7b\u4f3cJava\u4e2d\uff1a Map map * \u5e38\u7528\u7684\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b rpush key value \u4ece\u53f3\u8fb9\u5f80key\u96c6\u5408\u4e2d\u6dfb\u52a0value\u503c rpush hobby java lrange key start stop \u4ece\u5de6\u8fb9\u5f00\u59cb\u5217\u8868key\u96c6\u5408\uff0c\u4ecestart\u4f4d\u7f6e\u5f00\u59cb\uff0cstop\u4f4d\u7f6e\u7ed3\u675f lrange hobby 0 -1 lpush key value \u4ece\u5de6\u8fb9\u5f80key\u96c6\u5408\u4e2d\u6dfb\u52a0value\u503c lpush hobby c++ lpop key \u5f39\u51fakey\u96c6\u5408\u4e2d\u6700\u5de6\u8fb9\u7684\u6570\u636e lpop hobby rpop key \u5f39\u51fakey\u96c6\u5408\u4e2d\u6700\u53f3\u8fb9\u7684\u6570\u636e rpop hobby llen key \u83b7\u53d6\u5217\u8868\u957f\u5ea6 llen hooby \u975e\u5e38\u7528\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b linsert key before pivot value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u5728pivot\u503c\u4e4b\u524d\u63d2\u5165value linsert hobby before java c# linsert key after pivot value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u5728pivot\u503c\u4e4b\u540e\u63d2\u5165value linsert hobby after java c# lset key index value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u66f4\u65b0\u7d22\u5f15index\u4f4d\u7f6e\u503c\u4e3avalue lset hobby 1 go lrem key count value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u5220\u9664 count\u4e2a value\u503c lrem hobby 3 go ltrim key start stop \u64cd\u4f5ckey\u96c6\u5408\uff0c\u4ecestart\u5230stop\u622a\u53d6\u81ea\u5217\u8868 ltrim hobby 2 4 lindex key index \u64cd\u4f5ckey\u96c6\u5408\uff0c\u83b7\u53d6\u7d22\u5f15\u4e3aindex\u4f4d\u7f6e\u7684\u6570\u636e lindex hobby 1 \u5e94\u7528\u573a\u666f 1>\u7528\u6237\u6536\u85cf\u6587\u7ae0\u5217\u8868\uff1a key\uff1auser_favor_article_list value: [aid1, aid2, aid3......] Set\u7c7b\u578b Set\u96c6\u5408\u662fString\u7c7b\u578b\u7684\u65e0\u5e8f\u96c6\u5408,set\u662f\u901a\u8fc7HashTable\u5b9e\u73b0\u7684\uff0c\u5bf9\u96c6\u5408\u6211\u4eec\u53ef\u4ee5\u53d6 \u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u3002 \u7c7b\u4f3cJava\u4e2d\uff1a Map map * \u5e38\u7528\u7684\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b sadd key members [....] \u5f80key \u96c6\u5408\u4e2d\u6dfb\u52a0member\u5143\u7d20 sadd myset a b c smembers key \u904d\u5386key\u96c6\u5408\u4e2d\u6240\u6709\u7684\u5143\u7d20 smembers myset srem key members [....] \u5220\u9664key\u96c6\u5408\u4e2dmembers\u5143\u7d20 srem myset a spop key count \u4ecekey\u96c6\u5408\u4e2d\u968f\u673a\u5f39\u51facount\u4e2a\u5143\u7d20 spop myset 1 \u975e\u5e38\u7528\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b sdiff key1 key2 \u8fd4\u56dekey1\u4e2d\u7279\u6709\u7684\u5143\u7d20(\u5dee\u96c6) sdiff key1 key2 sidiffstore dest key1 key2 \u8fd4\u56dekey1\u4e2d\u7279\u6709\u7684\u5143\u7d20\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u7f13\u5b58\u5230dest\u96c6\u5408\u4e2d sidiffstore dest key1 key2 sinter key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u4ea4\u96c6 sinter key1 key2 sinterstore dest key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u4ea4\u96c6\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u7f13\u5b58\u5230dest\u96c6\u5408\u4e2d sinterstore dest key1 key2 sunion key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u5e76\u96c6 sunion key1 key2 sunionstore dest key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u5e76\u96c6\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u7f13\u5b58\u5230dest\u96c6\u5408\u4e2d sunionstore dest key1 key2 smove source destination member \u5c06source\u96c6\u5408\u4e2dmember\u5143\u7d20\u79fb\u52a8\u5230destination\u96c6\u5408\u4e2d smove key1 key2 aa sismember key member \u5224\u65admember\u5143\u7d20\u662f\u5426\u5728key\u96c6\u5408\u4e2d sismember key1 aa srandmember key count \u968f\u673a\u83b7\u53d6set\u96c6\u5408\u4e2dcount \u4e2a\u5143\u7d20 srandmember key1 1 \u5e94\u7528\u573a\u666f 1\uff0c\u53bb\u91cd\uff1b 2\uff0c\u62bd\u5956; \u200b 1\uff1a\u51c6\u5907\u4e00\u4e2a\u62bd\u5956\u6c60:sadd luckydraw 1 2 3 4 5 6 7 8 9 10 11 12 13 \u200b 2\uff1a\u62bd3\u4e2a\u4e09\u7b49\u5956:spop luckydraw 3 \u200b 3\uff1a\u62bd2\u4e2a\u4e8c\u7b49\u5956:spop luckydraw 2 \u200b 4\uff1a\u62bd1\u4e2a:\u4e00\u7b49\u5956:spop luckydraw 1 Sorted set \u7c7b\u578b Sorted set \u4e5f\u79f0Zset\u7c7b\u578b\uff0c\u662f\u4e00\u79cd\u5177\u6709\u6392\u5e8f\u6548\u679c\u7684set\u96c6\u5408\u3002\u5b83\u8ddfset\u96c6\u5408\u4e00\u6837\u4e5f\u662f string \u7c7b\u578b\u5143\u7d20\u7684\u96c6\u5408\uff0c\u4e14\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u6210\u5458\u3002\u5e76\u4e14\u8981\u6c42\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble \u7c7b\u578b\u7684\u5206\u6570\u3002\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u5206\u6570\u6765\u4e3a\u96c6\u5408\u4e2d\u7684\u6210\u5458\u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\u3002 Sorted set\u96c6\u5408\u662f\u901a\u8fc7\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\uff0c\u5220\u9664\uff0c\u67e5\u627e\u7684\u590d\u6742\u5ea6\u90fd\u662f O(1)\u3002 \u96c6\u5408\u4e2d\u6700\u5927\u7684\u6210\u5458\u6570\u4e3a 232 - 1 (4294967295, \u6bcf\u4e2a\u96c6\u5408\u53ef\u5b58\u50a840\u591a\u4ebf\u4e2a\u6210\u5458)\u3002 \u6570\u636e\u7f13\u5b58\u7ed3\u6784\uff1a * \u5e38\u7528\u7684\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b zadd key score member \u5f80key\u96c6\u5408\u4e2d\u6dfb\u52a0member\u5143\u7d20\uff0c\u5206\u6570\u4e3ascore zadd players 100 a zincrby key increment member \u5c06key\u96c6\u5408\u4e2d\u7684member\u5143\u7d20 \u5206\u6570 + increment zadd players 100 a zrange key start stop [withscores] \u5c06key\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u6309\u5206\u6570\u5347\u5e8f\u6392\u5217 [\u663e\u5f0f\u5206\u6570] zrange players 0 -1 withscores zrevrange key start stop [withscores] \u5c06key\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u6309\u5206\u6570\u964d\u5e8f\u6392\u5217 [\u663e\u5f0f\u5206\u6570] zrevrange players 0 -1 withscores zrank key member \u8fd4\u56demember\u5143\u7d20\u5728key\u7ed3\u5408\u4e2d\u7684\u6b63\u5e8f\u6392\u540d zrank players a zrevrank key member \u8fd4\u56demember\u5143\u7d20\u5728key\u7ed3\u5408\u4e2d\u7684\u5012\u5e8f\u6392\u540d zrevrank players a zcard key \u8fd4\u56dekey\u96c6\u5408\u5143\u7d20\u4e2a\u6570 zcard players \u975e\u5e38\u7528\u547d\u4ee4 \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b zrangebyscore key min max [withscores] \u6309[min, max) \u5206\u6570\u8303\u56f4\u8fd4\u56dekey\u96c6\u5408\u4e2d\u5143\u7d20(\u6b63\u5e8f) zrangebyscore players 200 300 withscores zrevrangebyscore key min max [withscores] \u6309[min, max) \u5206\u6570\u8303\u56f4\u8fd4\u56dekey\u96c6\u5408\u4e2d\u5143\u7d20(\u5012\u5e8f) zrevrangebyscore players 200 300 withscores zrem key member \u5220\u9664key\u96c6\u5408\u4e2dmember\u5143\u7d20\u4e0e\u5206\u6570 zrem players a zremrangebyscore key min max withscores \u6309[min, max) \u5206\u6570\u8303\u56f4\u5220\u9664key\u96c6\u5408\u4e2d\u5143\u7d20 zremrangebyscore players 200 300 withscores zremrangebyrank key start stop \u5220\u9664key\u96c6\u5408\u6b63\u5e8f\u6392\u540d\u843d\u5728[start, stop) \u8303\u56f4\u5143\u7d20 zremrangebyrank players 10 20 zcount key min max \u6309\u7167\u5206\u6570\u8303\u56f4[min, max]\u7edf\u8ba1key\u96c6\u5408\u4e2d\u5143\u7d20\u4e2a\u6570 zcount players 100 300 \u5e94\u7528\u573a\u666f \u6392\u884c\u699c\uff1a\u6709\u5e8f\u96c6\u5408\u7ecf\u5178\u4f7f\u7528\u573a\u666f\u3002\u4f8b\u5982\u89c6\u9891\u7f51\u7ad9\u9700\u8981\u5bf9\u7528\u6237\u4e0a\u4f20\u7684\u89c6\u9891\u505a\u6392\u884c\u699c\uff0c\u699c\u5355\u7ef4\u62a4\u53ef\u80fd\u662f\u591a\u65b9\u9762\uff1a\u6309\u7167\u65f6\u95f4\u3001\u6309\u7167\u64ad\u653e\u91cf\u3001\u6309\u7167\u83b7\u5f97\u7684\u8d5e\u6570\u7b49\u3002 \u7c7b\u578b\u603b\u7ed3 \u4e00\u4e2a\u95ee\u9898\uff0cRedis\u5728\u9879\u76ee\u4e2d\u5982\u4f55\u4f7f\u7528\uff1f \u601d\u8003\u70b9\uff1a 1>\u9879\u76ee\u662f\u5426\u9700\u8981\u4f7f\u7528\u5230\u7f13\u5b58\uff1f\u4f7f\u7528 2>\u4f7f\u7528\u7f13\u5b58\u662f\u5426\u9009\u7528Redis\uff1f\u9009\u7528 3>\u4f7f\u7528Redis\u90a3\u8be5\u600e\u4e48\u8bbe\u8ba1Key-Value\u503c\uff1f \u8fd9\u91cc\u91cd\u70b9\u8ba8\u8bbaRedis\u7684KV\u5bf9\u7684\u8bbe\u8ba1\u3002 Value\u8bbe\u8ba1 \u5148\u8bf4value\u503c\u7684\u8bbe\u8ba1\u5176\u5b9e\u5c31\u662fvalue\u7c7b\u578b\u9009\u7528\uff1a String\uff0c Hash\uff0c List\uff0c Set\uff0c Sort Set \u4e00\u822c\u8003\u8651\uff1a \u662f\u5426\u9700\u8981\u6392\u5e8f\uff1f\u8981\u4f7f\u7528Sort Set \u7f13\u5b58\u7684\u6570\u636e\u662f\u591a\u4e2a\u503c\u8fd8\u662f\u5355\u4e2a\u503c\uff0c \u591a\u4e2a\u503c\uff1a\u5141\u8bb8\u91cd\u590d\u9009List \u4e0d\u5141\u8bb8\u91cd\u590d\u9009\u62e9Set \u5355\u4e2a\u503c\uff1a\u7b80\u5355\u503c\u9009\u62e9String\uff0c \u5bf9\u8c61\u503c\u9009\u62e9Hash \u4e00\u79cd\u53d6\u5de7\u7684\u65b9\u5f0f\uff1a \u662f\u5426\u9700\u8981\u6392\u5e8f\uff1f\u8981\u4f7f\u7528Sort Set \u5269\u4e0b\u4f7f\u7528String \u64cd\u4f5c\u65b9\u5f0f\uff1a \u6240\u6709value\u4e4b\u540e\u90fd\u8f6c\u6362\u6210json\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u7f13\u5b58\u5230Redis\uff0c\u539f\u56e0\uff1aJava\u64cd\u4f5c\u65b9\u4fbf\uff0c\u51cf\u5c11\u6cdb\u578b\u64cd\u4f5c\u9ebb\u70e6 \u6bd4\u5982\uff1a List<String>list = ... Set<String> set = .... Map<String, Object> map = .... List<Object> list = redis\u5bf9\u8c61.getList Set<Object> set =redis\u5bf9\u8c61.getSet Map<Object, Object> map = redis\u5bf9\u8c61.getMap \u4e0d\u7ba1\u5b58\u653e\u5565\u6570\u636e\u7c7b\u578b\uff0c\u4ecereds\u4e2d\u83b7\u53d6\u51fa\u6765\u90fd\u662fObject\u7c7b\u578b\uff0c\u540e\u7eed\u5bf9\u8c61\u5f3a\u5236\u8f6c\u6362\u9ebb\u70e6\uff0c\u5e72\u8106\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u3002 Key\u8bbe\u8ba1 Redis \u7684key \u8bbe\u8ba1\u8bb2\u7a764\u4e2a\u6027\uff1a \u552f\u4e00\u6027 Redis \u7c7b\u4f3cMap\u96c6\u5408\uff0ckey\u5fc5\u987b\u4fdd\u8bc1\u552f\u4e00\uff0c\u7f13\u5b58\u540c\u4e00\u4e2akey\u65f6\uff0c\u540e\u8005\u4f1a\u8986\u76d6\u524d\u8005\uff0c\u6240\u6709\u5fc5\u987b\u8981\u6c42\u552f\u4e00\uff0c\u90a3\u5982\u4f55\u4fdd\u8bc1\u552f\u4e00\u5462\uff1f \u6700\u5e38\u7528\u7684\u65b9\u5f0f\uff1a \u4f7f\u7528\u7f13\u5b58\u6570\u636e\u7684\u4e3b\u952e\u4f5c\u4e3akey \u3002 \u6bd4\u5982\uff1a\u7f13\u5b58\u5458\u5de5\u4fe1\u606f key value ---------------------------------------------------------------- 1 \u5458\u5de51 2 \u5458\u5de52 \u5176\u4e2d\u76841\uff0c 2 \u662f\u5458\u5de5\u7684id \u53ef\u8bfb\u6027 \u53ef\u8bfb\u6027\u662f\u4fdd\u8bc1Redis\u7684key\u80fd\u505a\u5230\u89c1\u540d\u77e5\u610f\uff0c\u4e0a\u9762\u7684\u5458\u5de5id1\uff0c \u5458\u5de5id2 \u867d\u8bf4\u80fd\u4fdd\u8bc1key\u552f\u4e00\uff0c\u4f46\u53ef\u8bfb\u6027\u975e\u5e38\u5dee\uff0c\u7ef4\u62a4key\u65f6\uff0c\u65e0\u6cd5\u4ece\uff0c 1\uff0c 2\u4e2d\u5feb\u901f\u5224\u65ad\u8be5key\u5bf9\u5e94value\u503c\u3002\u6240\u4ee5\u4e00\u4e00\u822c\u5728\u4fdd\u8bc1key\u552f\u4e00\u7684\u524d\u63d0\u4e0b\uff0c\u7ed9key\u52a0\u4e0a\u524d\u7f00\uff1a key value ---------------------------------------------------------------- employee_info:id1 \u5458\u5de51 employee_info:id2 \u5458\u5de52 employee_info:id1 employee_info:id2 \u8fd9\u6837\u5b50\u8bbe\u8ba1key\uff0c\u53ef\u8bfb\u6027\u5c31\u597d\u591a\u4e86\u3002 \u53ef\u8bfb\u6027\u524d\u7f00\u7684\u8bbe\u8ba1\u89c4\u8303\u5343\u5947\u767e\u602a\uff0c\u6211\u4e2a\u4eba\u6bd4\u8f83\u63a8\u5d07\u7684\uff1a \u666e\u901a\u5355\u503c key value ---------------------------------------------------------------- employe_info:id1 \u5458\u5de5\u5bf9\u8c61\u4fe1\u606f \u7c7b\u4f3c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u8bbe\u8ba1 \u8868\u540d:\u4e3b\u952e\u540d:\u4e3b\u952e\u503c:\u5217\u540d key value ---------------------------------------------------------------- employee : id : 1:info \u5458\u5de5\u5bf9\u8c61\u4fe1\u606f \u901a\u7528\u73a9\u6cd5 \u4e1a\u52a1\u6a21\u5757\u540d:\u4e1a\u52a1\u903b\u8f91\u542b\u4e49:\u5176\u4ed6:value\u7c7b\u578b key value ----------------------------------------------------------------------- employee :base.info:id1:hash \u5458\u5de5\u5bf9\u8c61\u4fe1\u606f \u4e1a\u52a1\u6a21\u5757\u540d \uff1a\u8868\u793a\u8be5key\u5c5e\u4e8e\u54ea\u4e2a\u529f\u80fd\u6a21\u5757 \u4e1a\u52a1\u903b\u8f91\u542b\u4e49\u6bb5 \uff1a\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528 . \u5206\u5f00\uff0c \u5177\u4f53\u4e1a\u52a1\u903b\u8f91\u8868\u793a \u200b \u6bd4\u5982\uff1a\u7f13\u5b58\u5458\u5de5\u6743\u9650 \u200b employee:auth.permission:id1:set \u5458\u5de5\u6743\u9650\u96c6\u5408 \u5176\u4ed6 \uff1a\u4e00\u822c\u8bbe\u7f6e\u552f\u4e00\u6807\u8bc6\uff0c\u6bd4\u5982\u4e3b\u952e value\u7c7b\u578b \uff1akey\u5bf9\u5e94value\u7c7b\u578b\u503c\uff0c\u63d0\u9ad8\u53ef\u8bfb\u6027\u3002 \u7075\u6d3b\u6027 --\u9879\u76ee\u4e8c\u91cd\u70b9\u8bb2 \u8fd9\u4e2a\u96be\u4ecb\u7ecd\uff0c\u4e00\u822ckey\u4fdd\u8bc1\u552f\u4e00\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e3b\u952e\uff0c\u6709\u7684\u4f7f\u7528\uff0c\u4e00\u4e2a\u4e3b\u952e\u4e0d\u80fd\u8868\u8fbe\u51fa\u5168\u90e8\u610f\u601d\uff0c\u53ef\u4ee5\u4f7f\u7528\u8054\u5408\u4e3b\u952e\u3002 \u6bd4\u5982\uff1a id\u4e3a1\u7684\u670b\u53cb\u5708\u4e0bid\u4e3aA\u7684\u8bc4\u8bba\u3002 key value ----------------------------------------------------------------------- post:1:reply:A \u8bc4\u8bba\u5185\u5bb9 post:1:reply:B \u8bc4\u8bba\u5185\u5bb9 \u65f6\u6548\u6027 Redis key\u4e00\u5b9a\u8981\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3002\u8981\u8ddf\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u9700\u8981\u5bf9key\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\u3002\u53ef\u4ee5\u5728\u5199\u5165key\u65f6\uff0c\u5c31\u8981\u8ffd\u52a0\u8fc7\u671f\u65f6\u95f4\uff1b\u4e5f\u53ef\u4ee5\u5728\u6309\u7167\u9700\u8981\u52a8\u6001\u8bbe\u7f6e\u3002 \u8fd9\u91cc\u8981\u6ce8\u610f\uff1a \u4e0d\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u8fd9\u79cdkey\u4e3a\u6c38\u4e45key\uff0c\u4f1a\u4e00\u76f4\u5360\u7528\u5185\u5b58\u4e0d\u91ca\u653e\uff0c\u65f6\u95f4\u4e45\u4e86\uff0c\u6570\u91cf\u4e00\u591a\uff0c\u5c31\u5bb9\u6613\u8fbe\u5230\u670d\u52a1\u5668\u7684\u5185\u5b58\u4e0a\u9650\uff0c\u5bfc\u81f4\u5b95\u673a\uff0c\u5f00\u53d1\u65f6\u4e00\u822c\u914d\u5408Key\u8fc7\u671f\u7b56\u7565\u4f7f\u7528\u54e6\u3002 key\u7684\u65f6\u6548\u6027\u8bbe\u7f6e\uff0c\u5fc5\u987b\u6839\u636e\u4e1a\u52a1\u573a\u666f\u8fdb\u884c\u8bc4\u4f30\uff0c\u8bbe\u7f6e\u5408\u7406\u6709\u6548\u671f\uff1b Redis\u5168\u5c40\u547d\u4ee4 \u5168\u5c40\u547d\u4ee4\u9488\u5bf9\u7684\u662f\u6240\u6709\u7684key\uff0c\u5927\u90e8\u5206\u7528\u6765\u505a\u8fd0\u7ef4\uff0c\u505a\u7ba1\u7406\u7684 \u5e38\u7528\u7684\u5168\u5c40key \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b keys pattern \u6309\u7167pattern \u5339\u914d\u89c4\u5219\uff0c\u5217\u8868redis\u4e2d\u6240\u6709\u7684key keys xxx:* exists key \u5224\u65adkey\u662f\u5426\u5b58\u5728 exists name expire key seconds \u7ed9key\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u8d85\u65f6\uff1aseconds expire name 10 persist key \u53d6\u6d88key\u8fc7\u671f\u65f6\u95f4 persist name select index \u5207\u6362\u6570\u636e\u5e93\uff0c\u9ed8\u8ba4\u662f\u7b2c0\u4e2a\uff0c\u5171\u6709\u30100,15\u3011\u4e2a select 0 move key db \u4ece\u5f53\u524d\u6570\u636e\u5e93\u5c06key\u79fb\u52a8\u5230\u6307\u5b9adb\u5e93 move name 1 randomkey \u968f\u673a\u8fd4\u56de\u4e00\u4e2akey randomkey rename key newkey \u5c06key\u6539\u540d\u4e3anewkey rename name newname echo message \u6253\u5370message\u4fe1\u606f echo message dbsize \u67e5\u770bkey\u4e2a\u6570 dbsize info \u67e5\u770bredis\u6570\u636e\u5e93\u4fe1\u606f info config get * \u67e5\u770b\u6240\u6709redis\u914d\u7f6e\u4fe1\u606f config get * flushdb \u6e05\u7a7a\u5f53\u524d\u6570\u636e\u5e93 flushdb flushall \u6e05\u7a7a\u6240\u6709\u6570\u636e\u5e93 flushall Redis\u5b89\u5168\u6027 \u56e0\u4e3aRedis\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u6240\u4ee5\u5728\u4e00\u53f0\u6bd4\u8f83\u597d\u7684\u670d\u52a1\u5668\u4e0b,\u4e00\u4e2a\u5916\u90e8\u7528\u6237\u5728\u4e00\u79d2\u5185\u53ef\u4ee5\u8fdb\u884c15w\u6b21\u7684\u5bc6\u7801\u5c1d\u8bd5\uff0c\u8fd9\u610f\u5473\u4f60\u9700\u8981\u8bbe\u5b9a\u975e\u5e38\u5f3a\u5927\u7684\u5bc6\u7801\u6765\u65b9\u5f0f\u66b4\u529b\u7834\u89e3\u3002\u6b64\u65f6\u5c31\u9700\u8981\u5bf9Redis\u8fdb\u884c\u5bc6\u7801\u8bbe\u7f6e\u5566\u3002 Linux\u7cfb\u7edf \u7f16\u8f91 redis.conf\u6587\u4ef6\uff0c\u627e\u5230\u4e0b\u9762\u8fdb\u884c\u4fdd\u5b58\u4fee\u6539 requirepass \u81ea\u5b9a\u4e49\u5bc6\u7801 \u91cd\u542fRedis\u670d\u52a1\uff0c\u8bbf\u95ee\u65f6\uff0c\u4f7f\u7528\u5e26\u5bc6\u7801\u7684\u547d\u4ee4\uff1a redis-cli -a \u81ea\u5b9a\u4e49\u5bc6\u7801 \u5426\u5219\u4f1a\u63d0\u793a\uff1a (error)NOAUTH Authentication required. Window\u7cfb\u7edf \u8ddfLinux\u7cfb\u7edf\u4e00\u6837\uff0c\u533a\u522b\u662f\uff0cwindow\u7cfb\u7edf\u7684\u6587\u4ef6\u662f redis.window-service.config Redis\u4e8b\u52a1[\u62d3\u5c55] \u4e00\u4e2a\u4e8b\u52a1\u4ece\u5f00\u59cb\u5230\u6267\u884c\u4f1a\u7ecf\u5386\u4ee5\u4e0b\u4e09\u4e2a\u9636\u6bb5\uff1a \u5f00\u59cb\u4e8b\u52a1\u3002 \u547d\u4ee4\u5165\u961f\u3002 \u6267\u884c\u4e8b\u52a1\u3002 \u501f\u7528\uff1a\u83dc\u9e1f\u6559\u7a0b\u4e2d\u4f8b\u5b50 \u5b83\u5148\u4ee5 MULTI \u5f00\u59cb\u4e00\u4e2a\u4e8b\u52a1\uff0c \u7136\u540e\u5c06\u591a\u4e2a\u547d\u4ee4\u5165\u961f\u5230\u4e8b\u52a1\u4e2d\uff0c \u6700\u540e\u7531 EXEC \u547d\u4ee4\u89e6\u53d1\u4e8b\u52a1\uff0c \u4e00\u5e76\u6267\u884c\u4e8b\u52a1\u4e2d\u7684\u6240\u6709\u547d\u4ee4\uff1a redis 127.0.0.1:6379> MULTI OK redis 127.0.0.1:6379> SET book-name \"Mastering C++ in 21 days\" QUEUED redis 127.0.0.1:6379> GET book-name QUEUED redis 127.0.0.1:6379> SADD tag \"C++\" \"Programming\" \"Mastering Series\" QUEUED redis 127.0.0.1:6379> SMEMBERS tag QUEUED redis 127.0.0.1:6379> EXEC 1) OK 2) \"Mastering C++ in 21 days\" 3) (integer) 3 4) 1) \"Mastering Series\" 2) \"C++\" 3) \"Programming\" \u5355\u4e2a Redis \u547d\u4ee4\u7684\u6267\u884c\u662f\u539f\u5b50\u6027\u7684\uff0c\u4f46 Redis \u6ca1\u6709\u5728\u4e8b\u52a1\u4e0a\u589e\u52a0\u4efb\u4f55\u7ef4\u6301\u539f\u5b50\u6027\u7684\u673a\u5236\uff0c\u6240\u4ee5 Redis \u4e8b\u52a1\u7684\u6267\u884c\u5e76\u4e0d\u662f\u539f\u5b50\u6027\u7684\u3002 Redis\u4e8b\u52a1\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a \u6253\u5305\u7684\u6279\u91cf\u6267\u884c\u811a\u672c \uff0c\u4f46\u6279\u91cf\u6307\u4ee4\u5e76\u975e\u539f\u5b50\u5316\u7684\u64cd\u4f5c\uff0c\u4e2d\u95f4\u67d0\u6761\u6307\u4ee4\u7684\u5931\u8d25\u4e0d\u4f1a\u5bfc\u81f4\u524d\u9762\u5df2\u505a\u6307\u4ee4\u7684\u56de\u6eda\uff0c\u4e5f\u4e0d\u4f1a\u9020\u6210\u540e\u7eed\u7684\u6307\u4ee4\u4e0d\u505a\u3002 127.0.0.1:6379> multi OK 127.0.0.1:6379(TX)> set name dafei QUEUED 127.0.0.1:6379(TX)> set age 18 QUEUED 127.0.0.1:6379(TX)> incr age QUEUED 127.0.0.1:6379(TX)> incr name QUEUED 127.0.0.1:6379(TX)> get age QUEUED 127.0.0.1:6379(TX)> get name QUEUED 127.0.0.1:6379(TX)> exec 1) OK 2) OK 3) (integer) 19 4) (error) ERR value is not an integer or out of range 5) \"19\" 6) \"dafei\" 127.0.0.1:6379> Redis \u4e8b\u52a1\u53ef\u4ee5\u4e00\u6b21\u6267\u884c\u591a\u4e2a\u547d\u4ee4\uff0c \u5e76\u4e14\u5e26\u6709\u4ee5\u4e0b\u4e09\u4e2a\u91cd\u8981\u7684\u4fdd\u8bc1\uff1a \u6279\u91cf\u64cd\u4f5c\u5728\u53d1\u9001 EXEC \u547d\u4ee4\u524d\u88ab\u653e\u5165\u961f\u5217\u7f13\u5b58\u3002 \u6536\u5230 EXEC \u547d\u4ee4\u540e\u8fdb\u5165\u4e8b\u52a1\u6267\u884c\uff0c\u4e8b\u52a1\u4e2d\u4efb\u610f\u547d\u4ee4\u6267\u884c\u5931\u8d25\uff0c\u5176\u4f59\u7684\u547d\u4ee4\u4f9d\u7136\u88ab\u6267\u884c\u3002 \u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\uff0c\u5176\u4ed6\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u547d\u4ee4\u8bf7\u6c42\u4e0d\u4f1a\u63d2\u5165\u5230\u4e8b\u52a1\u6267\u884c\u547d\u4ee4\u5e8f\u5217\u4e2d\u3002 Redis\u6301\u4e45\u5316\u673a\u5236[\u62d3\u5c55] \u5f15\u8a00 \u5148\u6765\u4e00\u4e2a\u5c0f\u5b9e\u9a8c\uff0c\u5927\u5bb6\u53ef\u4ee5\u4e00\u8d77\u5b9e\u73b0\u4e00\u4e0b \u6b65\u9aa41\uff1a\u5728Redis\u4e2d\u6dfb\u52a02\u4e2akey-value\u5bf9 127.0.0.1:6379> set aa aa OK 127.0.0.1:6379> set bb bb OK 127.0.0.1:6379> keys * \u6b65\u9aa42\uff1a\u91cd\u542fRedis \u670d\u52a1\u5668\uff0c\u5728\u6267\u884ckeys * \u89c2\u5bdf\u6570\u636e \u6b65\u9aa43\uff1a\u5206\u6790\u7ed3\u679c \u4f1a\u51fa\u73b0\u4e00\u4e0b\u51e0\u79cd\u7ed3\u679c\uff1a \u4e4b\u524d\u7684key\u5728\uff0caa bb \u90fd\u5728\uff08\u6700\u7406\u60f3\u7684\u7ed3\u679c\uff09 \u4e4b\u524d\u7684key\u5728\uff0caa\u4e5f\u5728\uff0cbb\u4e0d\u89c1\u4e86 \u4e4b\u524d\u7684key\u5728\uff0caa\uff0c bb \u4e0d\u5728 \u4e4b\u524d\u7684key\uff0c aa\uff0c bb \u90fd\u4e0d\u5728\u4e86\uff08\u6700\u574f\u7684\u7ed3\u679c\uff09 \u601d\u8003\uff1a \u4e3a\u5565\u4f1a\u8fd9\u6837\uff1f\u4ee5\u6211\u4eec\u5bf9\u5185\u5b58\u7684\u64cd\u4f5c\u7406\u89e3\uff0c\u6309\u9053\u7406\u91cd\u542f\u4e4b\u540e\u6570\u636e\u5e94\u8be5\u5168\u4e22\u5931\u4e86\uff0c\u4e3a\u5565Redis \u53ef\u80fd\u4e22\u5931\uff0c\u4e5f\u53ef\u80fd\u4e0d\u4e22\u5931\uff0c\u4e3a\u4f55\uff1f \u8fd9\u91cc\u5c31\u6d89\u53ca\u5230Redis\u7684\u6301\u4e45\u5316\u673a\u5236\u4e86\u3002 * Redis\u6301\u4e45\u5316\u673a\u5236\u76ee\u524d\u4ee5\u540e3\u79cd\uff0c\u5206\u522b\u4e3a\uff1a 1> \u5feb\u7167\u65b9\u5f0f \uff08RDB, Redis DataBase\uff09 2> \u6587\u4ef6\u8ffd\u52a0\u65b9\u5f0f \uff08AOF, Append Only File\uff09 3> \u6df7\u5408\u6301\u4e45\u5316\u65b9\u5f0f \uff08Redis4\u7248\u672c\u4e4b\u540e\uff09 RDB\u65b9\u5f0f Snapshotting(\u5feb\u7167)\u9ed8\u8ba4\u65b9\u5f0f\uff0c\u5c06\u5185\u5b58\u6570\u636e\u4e2d\u4ee5\u5feb\u7167\u7684\u65b9\u5f0f\u5199\u5165\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\uff0c\u9ed8\u8ba4\u4e3adump.rdb\u3002\u89e6\u53d1RDB\u6301\u4e45\u5316\u8fc7\u7a0b\u5206\u624b\u52a8\u89e6\u53d1\u4e0e\u81ea\u52a8\u89e6\u53d1\u3002 \u89e6\u53d1\u673a\u5236 \u624b\u52a8\u89e6\u53d1 \u4f7f\u7528save\u547d\u4ee4\uff1a\u4f1a\u963b\u585e\u5f53\u524dRedis\u670d\u52a1\u5668\uff0c\u77e5\u9053RDB\u8fc7\u7a0b\u5b8c\u6210\u4e3a\u4e3b\uff0c\u5982\u679c\u5185\u5b58\u6570\u636e\u8f83\u591a\uff0c\u4f1a\u9020\u6210\u957f\u65f6\u95f4\u963b\u585e\uff0c\u5f71\u54cd\u5176\u4ed6\u547d\u4ee4\u7684\u4f7f\u7528\uff0c\u4e0d\u5efa\u8bae\u8f7b\u6613\u4f7f\u7528 \u4f7f\u7528bgsave\u547d\u4ee4\uff1aRedis\u8fdb\u7a0b\u6267\u884cfork\u6307\u4ee4\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u7531\u5b50\u8fdb\u7a0b\u5b9e\u73b0RDB\u6301\u4e45\u5316\uff0c\u6709\u9700\u8981\u65f6\u5efa\u8bae\u4f7f\u7528bgsave\u547d\u4ee4\u3002 \u81ea\u52a8\u89e6\u53d1 \u4f7f\u7528save\u76f8\u5173\u914d\u7f6e\uff0c\u683c\u5f0f\uff1a save m n \u8868\u793am\u79d2\u5185\u6570\u636e\u96c6\u5b58\u5728n\u6b21\u4fee\u6539\u65f6\u4f1a\u81ea\u52a8\u89e6\u53d1bgsave\u547d\u4ee4\u3002 save 900 1 #900\u79d2\u5185\u5982\u679c\u8d85\u8fc71\u4e2aKey\u88ab\u4fee\u6539\u5219\u53d1\u8d77\u5feb\u7167\u4fdd\u5b58 save 300 10 #300\u79d2\u5185\u5982\u679c\u8d85\u8fc710\u4e2akey\u88ab\u4fee\u6539,\u5219\u53d1\u8d77\u5feb\u7167\u4fdd\u5b58 save 60 10000 * \u4f18\u70b9 RDB\u5feb\u7167\u6587\u4ef6\u662f\u4e00\u4e2a\u7d27\u51d1\u538b\u7f29\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u975e\u5e38\u4f7f\u7528\u7528\u4e8e\u5907\u4efd\uff0c\u5168\u91cf\u590d\u5236\u7b49\u573a\u666f\u3002\u5f00\u53d1\u4e2d\u53ef\u4ee5\u6309\u7167\u6bcf6\u5c0f\u65f6\u6267\u884c\u4e00\u6b21bgsave\u5907\u4efd\uff0c\u7528\u4e8e\u5bb9\u707e\u5907\u4efd\u3002 Redis\u52a0\u8f7dRDB\u6062\u590d\u6570\u636e\u8fdc\u8fdc\u5feb\u4e8eAOF\u65b9\u5f0f \u7f3a\u70b9 RDB\u65e0\u6cd5\u505a\u5230\u5b9e\u65f6\u6301\u4e45\u5316/\u79d2\u7ea7\u6301\u4e45\u5316\uff0c\u6bcf\u6b21bgsave\u65f6\u90fd\u9700\u8981fork\u5b50\u8fdb\u7a0b\uff0c\u9891\u7e41\u6267\u884c\u6709\u65f6\u95f4\u6210\u672c\u3002 RDB\u5feb\u7167\u6587\u4ef6\u4e0d\u540c\u7248\u672c\u683c\u5f0f\u4e0d\u4e00\u6837\uff0c\u5bb9\u6613\u5f15\u8d77\u517c\u5bb9\u95ee\u9898\u3002 AOF\u65b9\u5f0f AOF\u4e0eRDB\u4e0d\u4e00\u6837\uff0c\u5b83\u662f\u4e00\u72ec\u7acb\u65e5\u5fd7\u7684\u65b9\u5f0f\u8bb0\u5f55\u6bcf\u6b21\u5199\u547d\u4ee4\uff0c\u91cd\u542f\u65f6\u518d\u91cd\u65b0\u6267\u884cAOF\u6587\u4ef6\u4e2d\u547d\u4ee4\u8fbe\u5230\u6062\u590d\u6570\u636e\u7684\u76ee\u7684\u3002\u89e3\u51b3\u4e86\u6570\u636e\u6301\u4e45\u5316\u7684\u5b9e\u65f6\u6027\u7684\u95ee\u9898\u3002 Redis\u9ed8\u8ba4\u662f\u4e0d\u5f00\u542f\u7684\uff0c\u9700\u8981\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u914d\u7f6e\uff1a appendonly yes AOF \u67093\u79cd\u6587\u4ef6\u540c\u6b65\u7b56\u7565 \u7b56\u7565 \u89e3\u91ca appendfsync always \u6536\u5230\u547d\u4ee4\u5c31\u7acb\u5373\u5199\u5230\u78c1\u76d8,\u6548\u7387\u6700\u6162.\u4f46\u662f\u80fd\u4fdd\u8bc1\u5b8c\u5168\u7684\u6301\u4e45\u5316 appendfsync everysec \u6bcf\u79d2\u5199\u5165\u78c1\u76d8\u4e00\u6b21,\u5728\u6027\u80fd\u548c\u6301\u4e45\u5316\u65b9\u9762\u505a\u4e86\u5f88\u597d\u7684\u6298\u4e2d appendfsync no \u5b8c\u5168\u4ee5\u4f9d\u8d56os\uff0c\u4e00\u822c\u540c\u6b65\u5468\u671f\u662f30\u79d2 * \u4f18\u70b9 AOF\u65b9\u5f0f\u6570\u636e\u5b89\u5168\u6027\u66f4\u9ad8\uff0c\u914d\u7f6e\u5f97\u5f53\uff0c\u6700\u591a\u635f\u59311\u79d2\u7684\u6570\u636e\u91cf \u5728\u4e0d\u5c0f\u5fc3\u6267\u884cflushall\u547d\u4ee4\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7AOF\u65b9\u5f0f\u6062\u590d(\u5220\u9664\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\u5373\u53ef) AOF \u65e5\u5fd7\u662f\u4e00\u4e2a\u589e\u91cf\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e0d\u4f1a\u5b58\u5728\u65ad\u7535\u65f6\u51fa\u73b0\u635f\u574f\u95ee\u9898\u3002\u5373\u4f7f\u51fa\u73b0\u95ee\u9898\uff0credis-check-aof \u5de5\u5177\u4e5f\u80fd\u591f\u8f7b\u677e\u4fee\u590d\u5b83\u3002 \u5f53 AOF \u53d8\u5f97\u592a\u5927\u65f6\uff0cRedis \u80fd\u591f\u5728\u540e\u53f0\u81ea\u52a8\u91cd\u5199 AOF \u7f3a\u70b9 \u76f8\u540c\u6570\u636e\u91cf\u6765\u8bf4\uff0cAOF\u6587\u4ef6\u4f53\u79ef\u901a\u5e38\u5927\u4e8eRDB\u6587\u4ef6 \u6570\u636e\u6301\u4e45\u5316\u6027\u80fd\u4e0a\u6765\u8bf4\uff0cAOF \u6bd4 RDB \u6162 RDB-AOF\u6df7\u5408\u65b9\u5f0f \u6df7\u5408\u6301\u4e45\u5316\u662f\u7ed3\u5408\u4e86 RDB \u548c AOF \u7684\u4f18\u70b9\uff0c\u5728\u5199\u5165\u7684\u65f6\u5019\uff0c\u5148\u628a\u5f53\u524d\u7684\u6570\u636e\u4ee5 RDB \u7684\u5f62\u5f0f\u5199\u5165\u6587\u4ef6\u7684\u5f00\u5934\uff0c\u518d\u5c06\u540e\u7eed\u7684\u64cd\u4f5c\u547d\u4ee4\u4ee5 AOF \u7684\u683c\u5f0f\u5b58\u5165\u6587\u4ef6\u3002\u5373\u4ee5 RDB \u4f5c\u4e3a\u5168\u91cf\u5907\u4efd\uff0cAOF \u4f5c\u4e3a\u589e\u91cf\u5907\u4efd\uff0c\u6765\u63d0\u9ad8\u5907\u4efd\u6548\u7387\u3002\u8fd9\u6837\u65e2\u80fd\u4fdd\u8bc1 Redis \u91cd\u542f\u65f6\u7684\u901f\u5ea6\uff0c\u53c8\u80fd\u9632\u6b62\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669\uff0c \u8fd9\u5c31\u662f Redis 4.0 \u4e4b\u540e\u63a8\u51fa\u7684 RDB-AOF \u6df7\u5408\u6301\u4e45\u5316\u6a21\u5f0f\uff0c\u5176\u4f5c\u4e3a\u9ed8\u8ba4\u914d\u7f6e\u6765\u4f7f\u7528 \u3002 \u6301\u4e45\u5316\u673a\u5236\u9009\u62e9 \u5982\u679c\u5bf9\u6570\u636e\u5b89\u5168\u6027\u6709\u975e\u5e38\u9ad8\u7684\u8981\u6c42\uff0c\u5efa\u8bae RDB \u548c AOF \u540c\u65f6\u542f\u7528\u3002 \u5982\u679c\u5bf9\u6570\u636e\u5b89\u5168\u6027\u8981\u6c42\u4e0d\u662f\u5f88\u9ad8\uff0c\u80fd\u591f\u5bb9\u5fcd\u6570\u636e\u7684\u4e22\u5931\uff0c\u5efa\u8bae\u5355\u72ec\u4f7f\u7528 RDB\u3002 \u4e0d\u63a8\u8350\u5355\u72ec\u4f7f\u7528 AOF\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u8fdb\u884c\u6570\u636e\u5e93\u5907\u4efd\u3001\u66f4\u5feb\u91cd\u542f\u4ee5\u53ca AOF \u5f15\u64ce\u4e2d\u51fa\u73b0\u9519\u8bef\u7684\u60c5\u51b5\u6765\u8bf4\uff0cRDB \u662f\u66f4\u597d\u7684\u9009\u62e9\u3002 \u5982\u679c\u6ca1\u7279\u6b8a\u8981\u6c42\uff0cRedis\u53c8\u662f4.x\u7248\u672c\u4ee5\u4e0a\uff0c\u53ef\u4ee5\u9009\u62e9RDB-AOF\u6df7\u5408\u65b9\u5f0f\u3002 \u5982\u679c\u4e0d\u662f\u6df7\u5408\u6a21\u5f0f\uff0c\u800c\u662f\u666e\u901a\u7684RDB\u4e0eAOF\u4e00\u8d77\u542f\u52a8\u65f6\uff0cRedis\u52a0\u8f7d\u6570\u636e\u6267\u884c\u6d41\u7a0b * Redis\u5185\u5b58\u6dd8\u6c70\u673a\u5236[\u62d3\u5c55] \u5f15\u8a00 Redis \u542f\u52a8\u4f1a\u52a0\u8f7d\u4e00\u4e2a\u914d\u7f6e\uff1a maxmemory <byte> //\u5185\u5b58\u4e0a\u9650 \u9ed8\u8ba4\u503c\u4e3a 0 (window\u7248\u7684\u9650\u5236\u4e3a100M)\uff0c\u8868\u793a\u9ed8\u8ba4\u8bbe\u7f6eRedis\u5185\u5b58\u4e0a\u9650\u3002\u4f46\u662f\u771f\u5b9e\u5f00\u53d1\u8fd8\u662f\u9700\u8981\u63d0\u524d\u8bc4\u4f30key\u7684\u4f53\u91cf\uff0c\u63d0\u524d\u8bbe\u7f6e\u597d\u5185\u5bb9\u4e0a\u9650\u3002 \u6b64\u65f6\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u5f00\u53d1\u4e2d\uff0c\u5728\u8bbe\u7f6e\u5b8c\u5185\u5b58\u4e0a\u9650\u4e4b\u540e\uff0c\u5982\u679cRedis key\u8fbe\u5230\u4e0a\u9650\u4e86\uff0c\u8be5\u600e\u4e48\u529e\uff1f\u8fd9\u5c31\u8bbe\u7f6e\u5230Redis\u7684\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e86\u3002 \u5185\u5b58\u6dd8\u6c70\u7b97\u6cd5 Redis\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e5f\u53ef\u4ee5\u79f0\u4e4b\u4e3akey\u5185\u5377\u673a\u5236\uff0c\u5f53\u8d44\u6e90\u4e0d\u8db3\u65f6\uff0c\u8be5\u5982\u4f55\u9009\u62e9\uff1f \u5e38\u89c1\u7684\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u5206\u4e3a\u56db\u5927\u7c7b\uff1a LRU\uff1a LRU\u662fLeast recently used\uff0c\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u610f\u601d\uff0c\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u6700\u8fd1\u6700\u5c11\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u8be5\u7b97\u6cd5\u8ba4\u4e3a\uff0c\u4f60\u957f\u671f\u4e0d\u7528\u7684\u6570\u636e\uff0c\u90a3\u4e48\u88ab\u518d\u6b21\u8bbf\u95ee\u7684\u6982\u7387\u4e5f\u5c31\u5f88\u5c0f\u4e86\uff0c\u6dd8\u6c70\u7684\u6570\u636e\u4e3a\u6700\u957f\u65f6\u95f4\u6ca1\u6709\u88ab\u4f7f\u7528\uff0c\u4ec5\u4e0e\u65f6\u95f4\u76f8\u5173\u3002 LFU\uff1a LFU\u662fLeast Frequently Used\uff0c\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528\u7684\u610f\u601d\uff0c\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\u6dd8\u6c70\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4f7f\u7528\u6b21\u6570\u6700\u5c11\u7684\u6570\u636e\uff0c\u8fd9\u4e2a\u4e0e\u9891\u6b21\u548c\u65f6\u95f4\u76f8\u5173\u3002 TTL\uff1a Redis\u4e2d\uff0c\u6709\u7684\u6570\u636e\u662f\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\uff0c\u800c\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u8fd9\u90e8\u5206\u6570\u636e\uff0c\u5c31\u662f\u8be5\u7b97\u6cd5\u8981\u89e3\u51b3\u7684\u5bf9\u8c61\u3002\u5982\u679c\u4f60\u5feb\u8fc7\u671f\u4e86\uff0c\u4e0d\u597d\u610f\u601d\uff0c\u6211\u5185\u5b58\u73b0\u5728\u4e0d\u591f\u4e86\uff0c\u53cd\u6b63\u4f60\u4e5f\u8981\u9000\u4f11\u4e86\uff0c\u63d0\u524d\u9001\u4f60\u4e00\u7a0b\uff0c\u628a\u4f60\u5e72\u6389\u5427\u3002 \u968f\u673a\u6dd8\u6c70\uff1a\u751f\u6b7b\u6709\u547d\uff0c\u5bcc\u8d35\u5728\u5929\uff0c\u662f\u5426\u88ab\u5e72\u6389\uff0c\u5168\u51ed\u5929\u610f\u4e86\u3002 Redis\u6dd8\u6c70\u7b56\u7565 Redis \u901a\u8fc7\u914d\u7f6e maxmemroy-policy \u6765\u914d\u7f6e\u6307\u5b9a\u5177\u4f53\u7684\u6dd8\u6c70\u673a\u5236\uff0c\u53ef\u4f9b\u9009\u62e9\u7684\u503c\u6709\uff1a \u901a\u8fc7maxmemroy-policy\u53ef\u4ee5\u914d\u7f6e\u5177\u4f53\u7684\u6dd8\u6c70\u673a\u5236\uff0c\u770b\u4e86\u7f51\u4e0a\u5f88\u591a\u6587\u7ae0\u8bf4\u53ea\u67096\u79cd\uff0c\u5176\u5b9e\u67098\u79cd\uff0c\u53ef\u4ee5\u770bRedis5.0\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4e0a\u9762\u6709\u8bf4\u660e\uff1a volatile-lru -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u5c06\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff08\u88ab\u8bbf\u95ee\u5230\uff09\u7684\u6570\u636e\u5e72\u6389\u3002 volatile-ttl -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u5c06\u5373\u5c06\u8fc7\u671f\u7684\u6570\u636e\u5e72\u6389\u3002 volatile-random -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u8fdb\u884c\u65e0\u5dee\u522b\u653b\u51fb\uff0c\u968f\u673a\u5e72\u6389\u6570\u636e\u3002 volatile-lfu -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u5c06\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4f7f\u7528\u6b21\u6570\u6700\u5c11\u7684\u6570\u636e\u5e72\u6389\u3002 allkeys-lru ->\u4e0e\u7b2c1\u4e2a\u5dee\u4e0d\u591a\uff0c\u6570\u636e\u96c6\u4ece\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u6570\u636e\u53d8\u4e3a\u5168\u4f53\u6570\u636e\u3002 allkeys-lfu -> \u4e0e\u7b2c4\u4e2a\u5dee\u4e0d\u591a\uff0c\u6570\u636e\u96c6\u4ece\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u6570\u636e\u53d8\u4e3a\u5168\u4f53\u6570\u636e\u3002 allkeys-random -> \u4e0e\u7b2c3\u4e2a\u5dee\u4e0d\u591a\uff0c\u6570\u636e\u96c6\u4ece\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u6570\u636e\u53d8\u4e3a\u5168\u4f53\u6570\u636e\u3002 no-enviction -> \u4ec0\u4e48\u90fd\u4e0d\u5e72\uff0c\u62a5\u9519\uff0c\u544a\u8bc9\u4f60\u5185\u5b58\u4e0d\u8db3\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931 \u7cfb\u7edf\u9ed8\u8ba4\u9009\u62e9\uff1a noenviction \u8fc7\u671fKey\u5904\u7406[\u62d3\u5c55] \u63a5\u4e0b\u8ba8\u8bba\u4e00\u4e2a\u95ee\u9898\uff1aRedis\u7684key\u8fc7\u671f\u4e86\uff0c\u8be5\u5982\u4f55\u6e05\u7406\u95ee\u9898\u3002 Redis\u7ed9\u51fa3\u79cd\u5b9e\u73b0\u65b9\u6848\uff1a \u60f0\u6027\u5220\u9664 \uff1a\u5f53\u8bbf\u95eeKey\u65f6\uff0c\u624d\u53bb\u5224\u65ad\u5b83\u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\uff0c\u76f4\u63a5\u5e72\u6389\u3002\u8fd9\u79cd\u65b9\u5f0f\u5bf9CPU\u5f88\u53cb\u597d\uff0c\u4f46\u662f\u4e00\u4e2akey\u5982\u679c\u957f\u671f\u4e0d\u7528\uff0c\u4e00\u76f4\u5b58\u5728\u5185\u5b58\u91cc\uff0c\u4f1a\u9020\u6210\u5185\u5b58\u6d6a\u8d39\u3002 \u5b9a\u65f6\u5220\u9664 \uff1a\u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\u7684\u540c\u65f6\uff0c\u521b\u5efa\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u5f53\u5230\u8fbe\u8fc7\u671f\u65f6\u95f4\u70b9\uff0c\u7acb\u5373\u6267\u884c\u5bf9Key\u7684\u5220\u9664\u64cd\u4f5c\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5bf9CPU\u4e0d\u53cb\u597d\uff0c\u5f97\u989d\u5916\u8ba9\u51faCPU\u7ef4\u62a4\u5b9a\u65f6\u5668\u3002 \u5b9a\u671f\u5220\u9664 \uff1a\u9694\u4e00\u6bb5\u65f6\u95f4\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u4e00\u6b21\u68c0\u67e5\uff0c\u5220\u9664\u91cc\u9762\u7684\u8fc7\u671fKey\uff0c\u81f3\u4e8e\u8981\u5220\u9664\u591a\u5c11\u8fc7\u671fKey\uff0c\u68c0\u67e5\u591a\u5c11\u6570\u636e\uff0c\u5219\u7531\u7b97\u6cd5\u51b3\u5b9a\u3002 Redis\u670d\u52a1\u5668\u5b9e\u9645\u4f7f\u7528\u7684\u662f\u60f0\u6027\u5220\u9664\u548c\u5b9a\u671f\u5220\u9664\u4e24\u79cd\u7b56\u7565\uff1a\u901a\u8fc7\u914d\u5408\u4f7f\u7528\u8fd9\u4e24\u79cd\u5220\u9664\u7b56\u7565\uff0c\u53ef\u4ee5\u5f88\u597d\u5730\u5728\u5408\u7406\u4f7f\u7528CPU\u548c\u907f\u514d\u6d6a\u8d39\u5185\u5b58\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861\u3002 Redis\u7f16\u7a0b \u6982\u51b5 Redis\u7f16\u7a0b\u5c31\u662f\u4f7f\u7528\u7f16\u7a0b\u65b9\u5f0f\u64cd\u4f5cRedis\uff0c\u5f53\u524dRedis\u652f\u6301\u7684\u7f16\u7a0b\u8bed\u8a00\u6709\uff1ahttps://redis.io/docs/clients/ \u8fd9\u91cc\u4ee5Java\u4e3a\u5f00\u53d1\u8bed\u8a00\uff0c\u9009\u62e9Java\u70b9\u51fb\u8fdb\u53bb java\u5b9e\u73b0\u64cd\u4f5cRedis\u7684\u5ba2\u6237\u7aef\u6709\u5f88\u591a\uff0c\u5176\u4e2d\u540d\u6c14\u6700\u9ad8\u7684\uff1a Redisson \uff0c Jedis \uff0c lettuce 3\u4e2a\u5ba2\u6237\u7aef\uff0c\u5176\u4e2dJedis\uff0clettuce\u4fa7\u91cd\u4e8e\u5355\u4f8bRedis \u6570\u636e\u5e93\u7684 CRUD\uff08\u589e\u5220\u6539\u67e5\uff09\uff0cRedisson \u4fa7\u91cd\u4e8e\u5206\u5e03\u5f0f\u5f00\u53d1\u3002\u5f53\u524d\u91cd\u70b9\u8bb2\u89e3Jedis\u4e0elettuce\u7684\u4f7f\u7528\uff0c\u540e\u7eed\u6709\u673a\u4f1a\u518d\u91cd\u70b9\u8bb2\u89e3Redisson\u4f7f\u7528\u3002 Jedis \u9879\u76ee\u4f7f\u7528\u7684SpringBoot\uff0c\u6240\u4ee5\u91cd\u70b9\u8bb2\u89e3SpringBoot\u7ee7\u627fJedis \u6b65\u9aa41\uff1a\u5efa\u9879\u76ee\uff0c\u5bfc\u5165\u4f9d\u8d56 <parent> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-parent</artifactId> <version>2.4.3</version> <relativePath/> <!-- lookup parent from repository --> </parent> <dependencies> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-test</artifactId> <scope>test</scope> </dependency> <dependency> <groupId>redis.clients</groupId> <artifactId>jedis</artifactId> </dependency> <dependency> <groupId>org.projectlombok</groupId> <artifactId>lombok</artifactId> </dependency> </dependencies> \u6b65\u9aa42\uff1a\u5bfc\u5165\u914d\u7f6e\u6587\u4ef6 #redis\u914d\u7f6e--jedis\u7248 jedis: pool: #redis\u670d\u52a1\u5668\u7684IP host: localhost #redis\u670d\u52a1\u5668\u7684Port port: 6379 #\u6570\u636e\u5e93\u5bc6\u7801 password: #\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4 timeout: 7200 #\u6700\u5927\u6d3b\u52a8\u5bf9\u8c61\u6570 maxTotall: 100 #\u6700\u5927\u80fd\u591f\u4fdd\u6301idel\u72b6\u6001\u7684\u5bf9\u8c61\u6570 maxIdle: 100 #\u6700\u5c0f\u80fd\u591f\u4fdd\u6301idel\u72b6\u6001\u7684\u5bf9\u8c61\u6570 minIdle: 50 #\u5f53\u6c60\u5185\u6ca1\u6709\u8fd4\u56de\u5bf9\u8c61\u65f6\uff0c\u6700\u5927\u7b49\u5f85\u65f6\u95f4 maxWaitMillis: 10000 #\u5f53\u8c03\u7528borrow Object\u65b9\u6cd5\u65f6\uff0c\u662f\u5426\u8fdb\u884c\u6709\u6548\u6027\u68c0\u67e5 testOnBorrow: true #\u5f53\u8c03\u7528return Object\u65b9\u6cd5\u65f6\uff0c\u662f\u5426\u8fdb\u884c\u6709\u6548\u6027\u68c0\u67e5 testOnReturn: true #\u201c\u7a7a\u95f2\u94fe\u63a5\u201d\u68c0\u6d4b\u7ebf\u7a0b\uff0c\u68c0\u6d4b\u7684\u5468\u671f\uff0c\u6beb\u79d2\u6570\u3002\u5982\u679c\u4e3a\u8d1f\u503c\uff0c\u8868\u793a\u4e0d\u8fd0\u884c\u201c\u68c0\u6d4b\u7ebf\u7a0b\u201d\u3002\u9ed8\u8ba4\u4e3a-1. timeBetweenEvictionRunsMillis: 30000 #\u5411\u8c03\u7528\u8005\u8f93\u51fa\u201c\u94fe\u63a5\u201d\u5bf9\u8c61\u65f6\uff0c\u662f\u5426\u68c0\u6d4b\u5b83\u7684\u7a7a\u95f2\u8d85\u65f6\uff1b testWhileIdle: true # \u5bf9\u4e8e\u201c\u7a7a\u95f2\u94fe\u63a5\u201d\u68c0\u6d4b\u7ebf\u7a0b\u800c\u8a00\uff0c\u6bcf\u6b21\u68c0\u6d4b\u7684\u94fe\u63a5\u8d44\u6e90\u7684\u4e2a\u6570\u3002\u9ed8\u8ba4\u4e3a3. numTestsPerEvictionRun: 50 \u6b65\u9aa43\uff1a\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6 @Component @ConfigurationProperties(prefix = \"jedis.pool\") @Getter @Setter public class JedisProperties { private int maxTotall; private int maxIdle; private int minIdle; private int maxWaitMillis; private boolean testOnBorrow; private boolean testOnReturn; private int timeBetweenEvictionRunsMillis; private boolean testWhileIdle; private int numTestsPerEvictionRun; private String host; private String password; private int port; private int timeout; } \u6b65\u9aa44\uff1a\u7f16\u5199Jedis\u914d\u7f6e\u7c7b @Configuration public class JedisConfig { /** * jedis\u8fde\u63a5\u6c60 * @param jedisProperties * @return */ @Bean public JedisPool jedisPool(JedisProperties jedisProperties) { JedisPoolConfig config = new JedisPoolConfig(); config.setMaxTotal(jedisProperties.getMaxTotall()); config.setMaxIdle(jedisProperties.getMaxIdle()); config.setMinIdle(jedisProperties.getMinIdle()); config.setMaxWait(Duration.ofMillis(jedisProperties.getMaxWaitMillis())); config.setTestOnBorrow(jedisProperties.isTestOnBorrow()); config.setTestOnReturn(jedisProperties.isTestOnReturn()); config.setTimeBetweenEvictionRuns(Duration.ofMillis(jedisProperties.getTimeBetweenEvictionRunsMillis())); config.setTestWhileIdle(jedisProperties.isTestWhileIdle()); config.setNumTestsPerEvictionRun(jedisProperties.getNumTestsPerEvictionRun()); if (StringUtils.hasText(jedisProperties.getPassword())) { return new JedisPool(config, jedisProperties.getHost(), jedisProperties.getPort(), jedisProperties.getTimeout(), jedisProperties.getPassword()); } return new JedisPool(config, jedisProperties.getHost(), jedisProperties.getPort(), jedisProperties.getTimeout()); } } \u6b65\u9aa45\uff1a\u7f16\u5199\u6d4b\u8bd5\u7c7b\uff0c\u5b9e\u73b0\u6d4b\u8bd5 @SpringBootTest public class JedisTest { @Autowired private JedisPool jedisPool; @Test public void testConnection(){ System.out.println(jedisPool); Jedis jedis = jedisPool.getResource(); //\u9700\u6c42\uff1a\u5f80redis\u4e2d\u6dfb\u52a0kv\u5bf9\uff1a name\uff1adafei jedis.set(\"name\", \"dafei\"); System.out.println(jedis.get(\"name\")); jedis.close(); } } \u64cd\u4f5c\u6280\u5de7\uff1ajedis\u4e2d\u65b9\u6cd5\u8ddfRedis\u4e2d\u547d\u4ee4\u4e00\u6837 Lettuce Lettuce \u4e4b\u6240\u4ee5\u80fd\u6d41\u884c\uff0c\u56e0\u4e3a\u5b83\u62b1\u4e86\u6839\u597d\u5927\u817f-Spring-data\u3002Spring-data-redis\u5e95\u5c42\u5c31\u5c01\u88c5\u4e86Lettuce\uff0c\u63a5\u4e0b\u6765\u770b\u4e0bSpringboot\u7248\u7684lettuce\u5b9e\u73b0\u3002 \u6b65\u9aa41\uff1a\u5bfc\u5165\u4f9d\u8d56 <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-data-redis</artifactId> </dependency> \u6b65\u9aa42\uff1aRedis\u914d\u7f6e spring: redis: host: 127.0.0.1 port: 6379 password: admin \u6b65\u9aa43\uff1a\u7f16\u5199\u6d4b\u8bd5\u7c7b\uff0c\u5b9e\u73b0\u6d4b\u8bd5 @SpringBootTest public class LettureTest { @Autowired //\u7ea6\u5b9a\uff1a // \u64cd\u4f5credis\u7684key \u662f\u5b57\u7b26\u4e32 // value\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u6216\u5b57\u7b26\u4e32\u7c7b\u578b\u5143\u7d20 private StringRedisTemplate template; @Test public void testRedis(){ //name\uff1adafei template.opsForValue().set(\"name\", \"dafei\"); System.out.println(template.opsForValue().get(\"name\")); // \u64cd\u4f5cstring //template.opsForValue().xx(); // \u64cd\u4f5chash //template.opsForHash().xx(); // \u64cd\u4f5clist //template.opsForList().xx(); // \u64cd\u4f5cset //template.opsForSet().xx(); // \u64cd\u4f5czset //template.opsForZSet().xx(); //spring-data-redis \u65b9\u6cd5\u662fredis \u547d\u4ee4\u5168\u79f0 //template.opsForList().rightPush() //rpush //\u5168\u5c40\u547d\u4ee4\u5728template\u7c7b\u4e0a //template.keys(\"*\"); } } \u64cd\u4f5c\u6280\u5de7\uff1aLettuce\u4e2d\u65b9\u6cd5\u8ddfRedis\u4e2d\u547d\u4ee4\u5168\u79f0 \u5c0f\u6848\u4f8b \u7c7b\u4f3c\u6548\u679c\uff1ahttps://www.mafengwo.cn/gonglve/ziyouxing/2339.html *","title":"redis-\u6d6a\u98deyes"},{"location":"redis/redis-langfei/#_1","text":"1>\u4e86\u89e3NoSQL\u6982\u5ff5 2>\u4e86\u89e3Redis\u6982\u5ff5\uff0c\u5b9a\u4f4d\uff0c\u4f18\u70b9\uff0c\u7f3a\u70b9 3>\u638c\u63e1Redis\u5e38\u7528\u4e94\u5927\u7c7b\u578b 4>\u638c\u63e1Redis Key \u4e0eValue\u503c\u8bbe\u8ba1 5>\u638c\u63e1Redis\u5168\u5c40\u547d\u4ee4 6>\u638c\u63e1Redis \u5b89\u5168\u4e0e\u4e8b\u52a1\u64cd\u4f5c 7>\u4e86\u89e3Redis\u6301\u4e45\u5316\u7b56\u7565 8>\u4e86\u89e3Redis\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e0e\u8fc7\u671fKey\u6e05\u7406 9>\u638c\u63e1Java\u96c6\u6210Redis\u64cd\u4f5c 10>\u5b8c\u6210\u7efc\u5408\u6848\u4f8b\u8bbe\u8ba1\u4e0e\u5b9e\u73b0","title":"\u6559\u5b66\u76ee\u6807"},{"location":"redis/redis-langfei/#redis","text":"","title":"\u8ba4\u8bc6 Redis"},{"location":"redis/redis-langfei/#_2","text":"\u76ee\u524d\u6570\u636e\u5e93\u5206\uff1a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e0e\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93 \u5e38\u7528\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff1a Oracle\uff0c MySQL \uff0cSqlServer\uff0cDB2 \u5e38\u7528\u7684\u975e\u5173\u7cfb\u6570\u636e\u5e93\uff1a Redis \uff0cMongoDB\uff0cElasticSearch\uff0c Hbase\uff0cNeo4j \u90a3\u5565\u662f\u975e\u5173\u7cfb\u6570\u636e\u5e93\u5462\uff1f\u6b64\u5904\u6d89\u53ca\u5230\u65b0\u540d\u8bcd\uff1aNoSQL NoSQL \u6700\u5e38\u89c1\u7684\u89e3\u91ca\u662f\u201cnon-relational\u201d\uff0c \u201cNot Only SQL\u201d\u4e5f\u88ab\u5f88\u591a\u4eba\u63a5\u53d7\u3002NoSQL\u4ec5\u4ec5\u662f\u4e00\u4e2a\u6982\u5ff5\uff0c\u6cdb\u6307\u975e\u5173\u7cfb\u578b\u7684\u6570\u636e\u5e93\uff0c\u533a\u522b\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\uff0c\u5b83\u4eec\u4e0d\u4fdd\u8bc1\u5173\u7cfb\u6570\u636e\u7684ACID\u7279\u6027\u3002\u8be6\u60c5\u89c1\uff1a\u767e\u5ea6\u767e\u79d1\uff1ahttps://baike.baidu.com/item/NoSQL/8828247?fr=aladdin \u7ecf\u5178\u6848\u4f8b *","title":"\u6570\u636e\u5e93\u5206\u7c7b"},{"location":"redis/redis-langfei/#nosql","text":"*","title":"NoSQL\u5206\u7c7b"},{"location":"redis/redis-langfei/#redis_1","text":"","title":"\u4ec0\u4e48\u662fRedis"},{"location":"redis/redis-langfei/#redis_2","text":"\u662f\u4ee5key-value\u5f62\u5f0f\u5b58\u50a8,\u548c\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e0d\u4e00\u6837.\u4e0d\u4e00\u5b9a\u9075\u5faa\u4f20\u7edf\u6570\u636e\u5e93\u7684\u4e00\u4e9b\u57fa\u672c\u8981\u6c42.(\u975e\u5173\u7cfb\u578b\u7684,\u5206\u5e03\u5f0f\u7684,\u5f00\u6e90\u7684,\u6c34\u5e73\u53ef\u62d3\u5c55\u7684) \u4f18\u70b9: \u5bf9\u6570\u636e\u9ad8\u5e76\u53d1\u8bfb\u5199 (\u76f4\u63a5\u662f\u5185\u5b58\u4e2d\u8fdb\u884c\u8bfb\u5199\u7684) \u5bf9\u6d77\u91cf\u6570\u636e\u7684\u9ad8\u6548\u7387\u5b58\u50a8\u548c\u8bbf\u95ee \u5bf9\u6570\u636e\u7684\u53ef\u62d3\u5c55\u6027\u548c\u9ad8\u53ef\u7528\u6027. \u5355\u7ebf\u7a0b\u64cd\u4f5c ,\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u662f\u539f\u5b50\u64cd\u4f5c,\u6ca1\u6709\u5e76\u53d1\u76f8\u5173\u95ee\u9898(redis 6) \u7f3a\u70b9: redis(ACID\u5904\u7406\u975e\u5e38\u7b80\u5355) \u65e0\u6cd5\u505a\u592a\u590d\u6742\u7684\u5173\u7cfb\u6570\u636e\u5e93\u6a21\u578b *","title":"Redis\u7b80\u4ecb"},{"location":"redis/redis-langfei/#redis_3","text":"\u6bd4\u8f83\u8457\u540d\u7684\u516c\u53f8\u6709\uff1a github\u3001blizzard\u3001stackoverflow\u3001flickr \u56fd\u5185 \u65b0\u6d6a\u5fae\u535a\uff08\u5168\u7403\u6700\u5927\u7684redis\u96c6\u7fa4\uff09\u30102017\u3011 2200+\u4ebf commands/day 5000\u4ebfRead/day 500\u4ebfWrite/day 18TB+ Memory 500+ Servers in 6 IDC 2000+instances \u6dd8\u5b9d \u817e\u8baf\u5fae\u535a","title":"\u8c01\u5728\u7528Redis"},{"location":"redis/redis-langfei/#redis_4","text":"redis\u5728\u7ebf\u5165\u95e8 \uff1a http://try.redis.io/ redis \u4e2d\u6587\u8d44\u6599\u7ad9\uff1a http://www.redis.cn/ https://www.runoob.com/redis/redis-tutorial.html","title":"\u600e\u4e48\u5b66redis"},{"location":"redis/redis-langfei/#redis_5","text":"\u9898\u5916\u8bdd\uff1a Redis\u662f\u4f7f\u7528C\u5199\u7684\u7a0b\u5e8f\uff0c\u76ee\u524d\u4e3b\u6d41\u5728Linux\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b98\u65b9\u4e0d\u63d0\u4f9bWindow\u7248\uff0c\u6700\u65b0\u7684Redis\u7248\uff1aRedis7.x \u5b98\u7f51\u4e0b\u8f7d\uff1ahttps://redis.io/download/ Redis \u7684Window\u7248\u662f\u5fae\u8f6f\u516c\u53f8\u81ea\u884c\u79fb\u690d\u7684\uff0c\u76ee\u524d\u6700\u65b0\u7248\uff1aRedis-x64-3.2.100 window\u7248\uff1ahttps://github.com/microsoftarchive/redis/releases/tag/win-3.2.100 \u65b0\u7248\u63a7\u7684\u540c\u5b66\uff1a 1>\u8d2d\u4e70\u963f\u91cc\u4e91Redis https://www.aliyun.com/minisite/goods?taskPkg=amb618all&pkgSid=442814&recordId=4183761&userCode=sd4xtwwm 2>\u8d2d\u4e70\u963f\u91cc\u4e91ECS \u8d2d\u4e70\u670d\u52a1\u5668\uff0c\u81ea\u5df1\u642d\u5efa\u6700\u65b0\u7248\u7684Redis 3>\u5b89\u88c5\u865a\u62df\u673a\uff1aLinux\uff0c\u518d\u5b89\u88c5\u6700\u65b0\u7248Redis \u8fd9\u4e2a\uff0c\u9879\u76ee\u4e09\u8bb2Linux\u64cd\u4f5c\u7cfb\u7edf\u65f6\u518d\u6559\u3002","title":"Redis\u7684\u5b89\u88c5"},{"location":"redis/redis-langfei/#_3","text":"\u7248\u672c\uff1aRedis-x64-3.2.100.msi \u50bb\u74dc\u5f0f\u5b89\u88c5,\u4e0b\u4e00\u6b65,\u4e0b\u4e00\u6b65\u5c31\u53ef\u4ee5\u4e86 \u6ce8\u610f\uff1a\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d * \u6ce8\u610f\uff1a\u9ed8\u8ba4\u7aef\u53e3 * \u6ce8\u610f\uff1a\u6700\u5927\u5185\u5b58 * \u6d4b\u8bd5\u662f\u5426\u6210\u529f * *","title":"\u670d\u52a1\u7aef"},{"location":"redis/redis-langfei/#-redisclient","text":"\u6253\u5f00CMD\u547d\u4ee4\u6846\uff0c\u8f93\u5165\u547d\u4ee4\uff1a java -jar redisclient.jar","title":"\u5ba2\u6237\u7aef--redisclient"},{"location":"redis/redis-langfei/#-redisdesktopclient","text":"","title":"\u5ba2\u6237\u7aef--RedisDesktopClient"},{"location":"redis/redis-langfei/#-rdm","text":"","title":"\u5ba2\u6237\u7aef--rdm"},{"location":"redis/redis-langfei/#_4","text":"","title":"\u6570\u636e\u7c7b\u578b"},{"location":"redis/redis-langfei/#_5","text":"Redis\u652f\u6301\u7684\u5b58\u50a8\u6570\u636e\u7c7b\u578b\u6709\u5f88\u591a\uff1a \u5e38\u7528\uff1a string \uff08\u5b57\u7b26\u4e32\uff09\uff0c hash \uff08\u54c8\u5e0c\uff09\uff0c list \uff08\u5217\u8868\uff09\uff0c set \uff08\u96c6\u5408\uff09\u53ca zset (sorted set\uff1a\u6709\u5e8f\u96c6\u5408) \u4e0d\u5e38\u7528\uff1aHyperLogLog\uff0cBitmap(\u4f4d\u56fe)\uff0cBloom Filter(\u5e03\u9686\u8fc7\u6ee4\u5668)\uff0cGeospatial(\u5730\u7406\u4f4d\u7f6e) \uff0cModule(\u6a21\u5757)\uff0c Streams(\u6d41\u4fe1\u606f) \u6b64\u5904\u91cd\u70b9\u8bb2\u89e3\u5e38\u7528\u7684\u7c7b\u578b\u3002 \u547d\u4ee4\u683c\u5f0f \u7c7b\u578b\u547d\u4ee4 key \u53c2\u6570\u6570\u636e set name dafei \u64cd\u4f5c\u5efa\u8bae Redis\u64cd\u4f5c\u6709\u70b9\u7c7b\u4f3cJava\u7684Map\u96c6\u5408\uff0c\u90fd\u662fkey-value\u5f62\u5f0f\u5b58\u50a8\u6570\u636e\uff0c\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u8fdb\u884c\u7c7b\u6bd4\u3002 \u53e6\u5916Redis\u4e2d\u7684key\u5927\u90e8\u5206\u4e3aString\u7c7b\u578b\uff0cvalue\u503c\u6839\u636e\u7f13\u5b58\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u9009\u7528\uff1astring\uff0chash\uff0clist\uff0cset\uff0czset\u7b49\u7c7b\u578b\u3002 \u6ce8\u610f\uff1a\u4e0b\u9762\u8bb2\u7684\u5404\u79cd\u7c7b\u578b\uff0c\u8868\u8ff0\u7684\u662f\u7f13\u5b58\u6570\u636e\u7684value\u7c7b\u578b\u3002","title":"\u6982\u51b5"},{"location":"redis/redis-langfei/#string","text":"String\u7c7b\u578b\u5305\u542b\u591a\u79cd\u7c7b\u578b\u7684\u7279\u6b8a\u7c7b\u578b\uff0c\u5e76\u4e14\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\uff0c\u5176\u503c\u53ef\u4ee5\u662f\u6570\u503c\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u6570\u636e\u3002 \u7c7b\u4f3cJava\u4e2d\uff1a Map map \u5728Redis\u5185\u5bb9\u6570\u636e\u5b58\u50a8\u7ed3\u6784\uff1a *","title":"String\u7c7b\u578b"},{"location":"redis/redis-langfei/#_6","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b set key value \u5c06key-value\u7f13\u5b58redis\u4e2d set name dafei get key \u4eceredis\u4e2d\u83b7\u53d6key\u5bf9\u5e94value\u503c get name incr key \u5c06key\u5bf9\u5e94value\u503c + 1 incr age decr key \u5c06key\u5bf9\u5e94value\u503c-1 decr age setex key seconds value \u5c06key-value\u7f13\u5b58\u5230redis\u4e2d\uff0cseconds \u79d2\u540e\u5931\u6548 setex sex 10 man ttl key \u67e5\u770bkey\u5b58\u6d3b\u65f6\u95f4 ttl sex del key \u4eceredis\u4e2d\u5220\u9664key del name setnx key value \u5982\u679ckey\u5df2\u7ecf\u5b58\uff0c\u4e0d\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u5982\u679ckey\u4e0d\u5b58\uff0c\u76f4\u63a5\u6dfb\u52a0 setnx name xiaofei","title":"\u5e38\u7528\u7684\u547d\u4ee4"},{"location":"redis/redis-langfei/#_7","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b incrby key increment \u7ed9key\u5bf9\u5e94\u503c\u52a0increment incrby age 10 mset k1 v1 k2 v2.... \u6279\u91cf\u6dfb\u52a0k1v1 k2v2 key value\u5bf9 mset name dafei age 18 mget k1 k2.... \u6279\u91cf\u83b7\u53d6k1, k2\u7684\u503c mget name age append key value \u5728key\u5bf9\u5e94\u7684value\u503c\u4e2d\u62fc+value append name yes setrange key offset value \u4fee\u6539key\u5bf9\u5e94\u7684value\u503c,\u66ff\u6362\u4e3a\u6307\u5b9avalue,\u51b2offset\u7d22\u5f15\u4f4d\u7f6e\u5f00\u59cb setrange name 2 xx","title":"\u975e\u5e38\u7528\u547d\u4ee4"},{"location":"redis/redis-langfei/#_8","text":"1>\u8ba1\u6570\u5668 \u5982\uff1a\u89c6\u9891\u64ad\u653e\u6570\u7cfb\u7edf\u5c31\u662f\u4f7f\u7528redis\u4f5c\u4e3a\u89c6\u9891\u64ad\u653e\u6570\u8ba1\u6570\u7684\u57fa\u7840\u7ec4\u4ef6\u3002 incr viewnum 1 2>\u5171\u4eabsession \u51fa\u4e8e\u8d1f\u8f7d\u5747\u8861\u7684\u8003\u8651\uff0c\u5206\u5e03\u5f0f\u670d\u52a1\u4f1a\u5c06\u7528\u6237\u4fe1\u606f\u7684\u8bbf\u95ee\u5747\u8861\u5230\u4e0d\u540c\u670d\u52a1\u5668\u4e0a\uff0c\u7528\u6237\u5237\u65b0\u4e00\u6b21\u8bbf\u95ee\u53ef\u80fd\u4f1a\u9700\u8981\u91cd\u65b0\u767b\u5f55\uff0c\u4e3a\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u7528redis\u5c06\u7528\u6237session\u96c6\u4e2d\u7ba1\u7406\uff0c \u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\u53ea\u8981\u4fdd\u8bc1redis\u7684\u9ad8\u53ef\u7528\u548c\u6269\u5c55\u6027\u7684\uff0c\u6bcf\u6b21\u83b7\u53d6\u7528\u6237\u66f4\u65b0\u6216\u67e5\u8be2\u767b\u5f55\u4fe1\u606f\u90fd\u76f4\u63a5\u4eceredis\u4e2d\u96c6\u4e2d\u83b7\u53d6\u3002 user_login_info:uid---->{\"id\":1, \"name\":\"dafei\", \"age\":18}","title":"\u5e94\u7528\u573a\u666f"},{"location":"redis/redis-langfei/#hash","text":"Hash\u7c7b\u578b\u662fString\u7c7b\u578b\u7684field\u548cvalue\u7684\u6620\u5c04\u8868\uff0c\u6216\u8005\u8bf4\u662f\u4e00\u4e2aString\u96c6\u5408\u3002\u5b83\u7279\u522b\u9002\u5408\u5b58\u50a8\u5bf9\u8c61\uff0c\u76f8\u6bd4\u8f83\u800c\u8a00\uff0c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u5b58\u50a8\u5728Hash\u7c7b\u578b\u91cc\u8981\u6bd4\u5b58\u50a8\u5728String\u7c7b\u578b\u91cc\u5360\u7528\u66f4\u5c11\u7684\u5185\u5b58\u7a7a\u95f4\u3002 \u7c7b\u4f3cJava\u4e2d\uff1a Map > map *","title":"Hash\u7c7b\u578b"},{"location":"redis/redis-langfei/#_9","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b hset key field value \u5c06field value\u5bf9\u7f13\u5b58\u5230redis\u4e2dhash\u4e2d\uff0c\u952e\u503c\u4e3akey hset user name dafei hget key field \u4ecekey\u5bf9\u5e94hash\u5217\u8868\u4e2d\u83b7\u53d6field\u5b57\u6bb5 hget user name hexists key field \u5224\u65adkey\u5bf9\u5e94\u7684hash\u5217\u8868\u662f\u5426\u5b58\u5728 field\u5b57\u6bb5 hexists user age hdel key field \u5220\u9664key\u5bf9\u5e94hash\u5217\u8868\u4e2dfield\u5b57\u6bb5 hdel user age hincrby key field increment \u7ed9key\u5bf9\u5e94hash\u5217\u8868\u4e2dfield\u5b57\u6bb5 + increment hincrby user age 10 hlen key \u67e5\u770bkey\u5bf9\u5e94\u7684hash\u5217\u8868field\u7684\u6570\u91cf hlen user hkeys key \u83b7\u53d6key\u5bf9\u5e94\u7684hash\u5217\u8868\u6240\u6709\u7684field\u503c hkeys user hvals key \u83b7\u53d6key\u5bf9\u5e94\u7684hash\u5217\u8868\u6240\u6709\u7684field\u5bf9\u5e94\u7684value\u503c kvals user hgetall key \u83b7\u53d6key\u5bf9\u5e94\u7684hash\u5217\u8868\u4e2d\u6240\u6709\u7684field\u53ca\u5176\u5bf9\u5e94\u7684value\u503c hgetall user","title":"\u5e38\u7528\u7684\u547d\u4ee4"},{"location":"redis/redis-langfei/#_10","text":"Hash\u7ed3\u6784\u76f8\u5bf9\u4e8e\u5b57\u7b26\u4e32\u5e8f\u5217\u5316\u7f13\u5b58\u4fe1\u606f\u66f4\u52a0\u76f4\u89c2\uff0c\u5e76\u4e14\u5728\u66f4\u65b0\u64cd\u4f5c\u4e0a\u66f4\u52a0\u4fbf\u6377\u3002 \u5171\u4eabsession\u8bbe\u8ba1 public class User{ private String userame; private String password; private int age; } \u767b\u5f55\u7528\u6237\uff1a User user = new User(\"dafei\", \"666\", 18); \u767b\u5f55\u7f13\u5b58\uff1a key\uff1a user_token value\uff1a new User(\"dafei\", \"666\", 18) ---------------------------------------------------------------------------------------------- \u65b9\u68481\uff1a \u5c06user\u5bf9\u8c61\u8f6c\u6362json\u683c\u5f0f\u5b57\u7b26\u4e32\u5b58redis \u3010\u4fa7\u91cd\u4e8e\u67e5\uff0c \u6539\u975e\u5e38\u9ebb\u70e6\u3011 key value --------------------------------------------------------------------------------------------- user_token \uff1a \"{name:dafei, age:18, password:666}\" \u65b9\u68482\uff1a \u5c06user\u5bf9\u8c61\u8f6c\u6362hash\u5bf9\u8c61\u5b58redis\u3010\u4fa7\u91cd\u4e8e\u6539\uff0c\u67e5\u8be2\u76f8\u5bf9\u9ebb\u70e6\u3011 key value --------------------------------------------------------------------------------------------- user_token \uff1a { \u200b name\uff1addafei \u200b age \uff1a 18 \u200b password\uff1a 666 \u200b }","title":"\u5e94\u7528\u573a\u666f"},{"location":"redis/redis-langfei/#list","text":"Redis\u4e2d\u7684List\u7c7b\u4f3cJava\u4e2d\u7684Queue,\u4e5f\u53ef\u4ee5\u5f53\u505aList\u6765\u7528. List\u7c7b\u578b\u662f\u4e00\u4e2a\u94fe\u8868\u7ed3\u6784\u7684\u96c6\u5408\uff0c\u5176\u4e3b\u8981\u529f\u80fd\u6709push\u3001pop\u3001\u83b7\u53d6\u5143\u7d20\u7b49\uff0c\u66f4\u8be6\u7ec6\u7684\u8bf4,List\u7c7b\u578b\u662f\u4e00\u4e2a\u53cc\u7aef\u94fe\u8868\u7684\u7ed3\u6784\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u76f8\u5173\u64cd\u4f5c\u8fdb\u884c\u96c6\u5408\u7684\u5934\u90e8\u6216\u8005\u5c3e\u90e8\u6dfb\u52a0\u5220\u9664\u5143\u7d20\uff0cList\u7684\u8bbe\u8ba1\u975e\u5e38\u7b80\u5355\u7cbe\u5de7\uff0c\u5373\u53ef\u4ee5\u4f5c\u4e3a\u6808,\u53c8\u53ef\u4ee5\u4f5c\u4e3a\u961f\u5217\uff0c\u6ee1\u8db3\u7edd\u5927\u591a\u6570\u9700\u6c42. \u7c7b\u4f3cJava\u4e2d\uff1a Map map *","title":"List\u7c7b\u578b"},{"location":"redis/redis-langfei/#_11","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b rpush key value \u4ece\u53f3\u8fb9\u5f80key\u96c6\u5408\u4e2d\u6dfb\u52a0value\u503c rpush hobby java lrange key start stop \u4ece\u5de6\u8fb9\u5f00\u59cb\u5217\u8868key\u96c6\u5408\uff0c\u4ecestart\u4f4d\u7f6e\u5f00\u59cb\uff0cstop\u4f4d\u7f6e\u7ed3\u675f lrange hobby 0 -1 lpush key value \u4ece\u5de6\u8fb9\u5f80key\u96c6\u5408\u4e2d\u6dfb\u52a0value\u503c lpush hobby c++ lpop key \u5f39\u51fakey\u96c6\u5408\u4e2d\u6700\u5de6\u8fb9\u7684\u6570\u636e lpop hobby rpop key \u5f39\u51fakey\u96c6\u5408\u4e2d\u6700\u53f3\u8fb9\u7684\u6570\u636e rpop hobby llen key \u83b7\u53d6\u5217\u8868\u957f\u5ea6 llen hooby","title":"\u5e38\u7528\u7684\u547d\u4ee4"},{"location":"redis/redis-langfei/#_12","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b linsert key before pivot value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u5728pivot\u503c\u4e4b\u524d\u63d2\u5165value linsert hobby before java c# linsert key after pivot value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u5728pivot\u503c\u4e4b\u540e\u63d2\u5165value linsert hobby after java c# lset key index value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u66f4\u65b0\u7d22\u5f15index\u4f4d\u7f6e\u503c\u4e3avalue lset hobby 1 go lrem key count value \u64cd\u4f5ckey\u96c6\u5408\uff0c\u5220\u9664 count\u4e2a value\u503c lrem hobby 3 go ltrim key start stop \u64cd\u4f5ckey\u96c6\u5408\uff0c\u4ecestart\u5230stop\u622a\u53d6\u81ea\u5217\u8868 ltrim hobby 2 4 lindex key index \u64cd\u4f5ckey\u96c6\u5408\uff0c\u83b7\u53d6\u7d22\u5f15\u4e3aindex\u4f4d\u7f6e\u7684\u6570\u636e lindex hobby 1","title":"\u975e\u5e38\u7528\u547d\u4ee4"},{"location":"redis/redis-langfei/#_13","text":"1>\u7528\u6237\u6536\u85cf\u6587\u7ae0\u5217\u8868\uff1a key\uff1auser_favor_article_list value: [aid1, aid2, aid3......]","title":"\u5e94\u7528\u573a\u666f"},{"location":"redis/redis-langfei/#set","text":"Set\u96c6\u5408\u662fString\u7c7b\u578b\u7684\u65e0\u5e8f\u96c6\u5408,set\u662f\u901a\u8fc7HashTable\u5b9e\u73b0\u7684\uff0c\u5bf9\u96c6\u5408\u6211\u4eec\u53ef\u4ee5\u53d6 \u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u3002 \u7c7b\u4f3cJava\u4e2d\uff1a Map map *","title":"Set\u7c7b\u578b"},{"location":"redis/redis-langfei/#_14","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b sadd key members [....] \u5f80key \u96c6\u5408\u4e2d\u6dfb\u52a0member\u5143\u7d20 sadd myset a b c smembers key \u904d\u5386key\u96c6\u5408\u4e2d\u6240\u6709\u7684\u5143\u7d20 smembers myset srem key members [....] \u5220\u9664key\u96c6\u5408\u4e2dmembers\u5143\u7d20 srem myset a spop key count \u4ecekey\u96c6\u5408\u4e2d\u968f\u673a\u5f39\u51facount\u4e2a\u5143\u7d20 spop myset 1","title":"\u5e38\u7528\u7684\u547d\u4ee4"},{"location":"redis/redis-langfei/#_15","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b sdiff key1 key2 \u8fd4\u56dekey1\u4e2d\u7279\u6709\u7684\u5143\u7d20(\u5dee\u96c6) sdiff key1 key2 sidiffstore dest key1 key2 \u8fd4\u56dekey1\u4e2d\u7279\u6709\u7684\u5143\u7d20\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u7f13\u5b58\u5230dest\u96c6\u5408\u4e2d sidiffstore dest key1 key2 sinter key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u4ea4\u96c6 sinter key1 key2 sinterstore dest key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u4ea4\u96c6\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u7f13\u5b58\u5230dest\u96c6\u5408\u4e2d sinterstore dest key1 key2 sunion key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u5e76\u96c6 sunion key1 key2 sunionstore dest key1 key2 \u8fd4\u56dekey1\u8ddfkey2\u96c6\u5408\u7684\u5e76\u96c6\uff0c\u5e76\u5c06\u8fd4\u56de\u503c\u7f13\u5b58\u5230dest\u96c6\u5408\u4e2d sunionstore dest key1 key2 smove source destination member \u5c06source\u96c6\u5408\u4e2dmember\u5143\u7d20\u79fb\u52a8\u5230destination\u96c6\u5408\u4e2d smove key1 key2 aa sismember key member \u5224\u65admember\u5143\u7d20\u662f\u5426\u5728key\u96c6\u5408\u4e2d sismember key1 aa srandmember key count \u968f\u673a\u83b7\u53d6set\u96c6\u5408\u4e2dcount \u4e2a\u5143\u7d20 srandmember key1 1","title":"\u975e\u5e38\u7528\u547d\u4ee4"},{"location":"redis/redis-langfei/#_16","text":"1\uff0c\u53bb\u91cd\uff1b 2\uff0c\u62bd\u5956; \u200b 1\uff1a\u51c6\u5907\u4e00\u4e2a\u62bd\u5956\u6c60:sadd luckydraw 1 2 3 4 5 6 7 8 9 10 11 12 13 \u200b 2\uff1a\u62bd3\u4e2a\u4e09\u7b49\u5956:spop luckydraw 3 \u200b 3\uff1a\u62bd2\u4e2a\u4e8c\u7b49\u5956:spop luckydraw 2 \u200b 4\uff1a\u62bd1\u4e2a:\u4e00\u7b49\u5956:spop luckydraw 1","title":"\u5e94\u7528\u573a\u666f"},{"location":"redis/redis-langfei/#sorted-set","text":"Sorted set \u4e5f\u79f0Zset\u7c7b\u578b\uff0c\u662f\u4e00\u79cd\u5177\u6709\u6392\u5e8f\u6548\u679c\u7684set\u96c6\u5408\u3002\u5b83\u8ddfset\u96c6\u5408\u4e00\u6837\u4e5f\u662f string \u7c7b\u578b\u5143\u7d20\u7684\u96c6\u5408\uff0c\u4e14\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u6210\u5458\u3002\u5e76\u4e14\u8981\u6c42\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble \u7c7b\u578b\u7684\u5206\u6570\u3002\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u5206\u6570\u6765\u4e3a\u96c6\u5408\u4e2d\u7684\u6210\u5458\u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\u3002 Sorted set\u96c6\u5408\u662f\u901a\u8fc7\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\uff0c\u5220\u9664\uff0c\u67e5\u627e\u7684\u590d\u6742\u5ea6\u90fd\u662f O(1)\u3002 \u96c6\u5408\u4e2d\u6700\u5927\u7684\u6210\u5458\u6570\u4e3a 232 - 1 (4294967295, \u6bcf\u4e2a\u96c6\u5408\u53ef\u5b58\u50a840\u591a\u4ebf\u4e2a\u6210\u5458)\u3002 \u6570\u636e\u7f13\u5b58\u7ed3\u6784\uff1a *","title":"Sorted set \u7c7b\u578b"},{"location":"redis/redis-langfei/#_17","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b zadd key score member \u5f80key\u96c6\u5408\u4e2d\u6dfb\u52a0member\u5143\u7d20\uff0c\u5206\u6570\u4e3ascore zadd players 100 a zincrby key increment member \u5c06key\u96c6\u5408\u4e2d\u7684member\u5143\u7d20 \u5206\u6570 + increment zadd players 100 a zrange key start stop [withscores] \u5c06key\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u6309\u5206\u6570\u5347\u5e8f\u6392\u5217 [\u663e\u5f0f\u5206\u6570] zrange players 0 -1 withscores zrevrange key start stop [withscores] \u5c06key\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u6309\u5206\u6570\u964d\u5e8f\u6392\u5217 [\u663e\u5f0f\u5206\u6570] zrevrange players 0 -1 withscores zrank key member \u8fd4\u56demember\u5143\u7d20\u5728key\u7ed3\u5408\u4e2d\u7684\u6b63\u5e8f\u6392\u540d zrank players a zrevrank key member \u8fd4\u56demember\u5143\u7d20\u5728key\u7ed3\u5408\u4e2d\u7684\u5012\u5e8f\u6392\u540d zrevrank players a zcard key \u8fd4\u56dekey\u96c6\u5408\u5143\u7d20\u4e2a\u6570 zcard players","title":"\u5e38\u7528\u7684\u547d\u4ee4"},{"location":"redis/redis-langfei/#_18","text":"\u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b zrangebyscore key min max [withscores] \u6309[min, max) \u5206\u6570\u8303\u56f4\u8fd4\u56dekey\u96c6\u5408\u4e2d\u5143\u7d20(\u6b63\u5e8f) zrangebyscore players 200 300 withscores zrevrangebyscore key min max [withscores] \u6309[min, max) \u5206\u6570\u8303\u56f4\u8fd4\u56dekey\u96c6\u5408\u4e2d\u5143\u7d20(\u5012\u5e8f) zrevrangebyscore players 200 300 withscores zrem key member \u5220\u9664key\u96c6\u5408\u4e2dmember\u5143\u7d20\u4e0e\u5206\u6570 zrem players a zremrangebyscore key min max withscores \u6309[min, max) \u5206\u6570\u8303\u56f4\u5220\u9664key\u96c6\u5408\u4e2d\u5143\u7d20 zremrangebyscore players 200 300 withscores zremrangebyrank key start stop \u5220\u9664key\u96c6\u5408\u6b63\u5e8f\u6392\u540d\u843d\u5728[start, stop) \u8303\u56f4\u5143\u7d20 zremrangebyrank players 10 20 zcount key min max \u6309\u7167\u5206\u6570\u8303\u56f4[min, max]\u7edf\u8ba1key\u96c6\u5408\u4e2d\u5143\u7d20\u4e2a\u6570 zcount players 100 300","title":"\u975e\u5e38\u7528\u547d\u4ee4"},{"location":"redis/redis-langfei/#_19","text":"\u6392\u884c\u699c\uff1a\u6709\u5e8f\u96c6\u5408\u7ecf\u5178\u4f7f\u7528\u573a\u666f\u3002\u4f8b\u5982\u89c6\u9891\u7f51\u7ad9\u9700\u8981\u5bf9\u7528\u6237\u4e0a\u4f20\u7684\u89c6\u9891\u505a\u6392\u884c\u699c\uff0c\u699c\u5355\u7ef4\u62a4\u53ef\u80fd\u662f\u591a\u65b9\u9762\uff1a\u6309\u7167\u65f6\u95f4\u3001\u6309\u7167\u64ad\u653e\u91cf\u3001\u6309\u7167\u83b7\u5f97\u7684\u8d5e\u6570\u7b49\u3002","title":"\u5e94\u7528\u573a\u666f"},{"location":"redis/redis-langfei/#_20","text":"\u4e00\u4e2a\u95ee\u9898\uff0cRedis\u5728\u9879\u76ee\u4e2d\u5982\u4f55\u4f7f\u7528\uff1f \u601d\u8003\u70b9\uff1a 1>\u9879\u76ee\u662f\u5426\u9700\u8981\u4f7f\u7528\u5230\u7f13\u5b58\uff1f\u4f7f\u7528 2>\u4f7f\u7528\u7f13\u5b58\u662f\u5426\u9009\u7528Redis\uff1f\u9009\u7528 3>\u4f7f\u7528Redis\u90a3\u8be5\u600e\u4e48\u8bbe\u8ba1Key-Value\u503c\uff1f \u8fd9\u91cc\u91cd\u70b9\u8ba8\u8bbaRedis\u7684KV\u5bf9\u7684\u8bbe\u8ba1\u3002","title":"\u7c7b\u578b\u603b\u7ed3"},{"location":"redis/redis-langfei/#value","text":"\u5148\u8bf4value\u503c\u7684\u8bbe\u8ba1\u5176\u5b9e\u5c31\u662fvalue\u7c7b\u578b\u9009\u7528\uff1a String\uff0c Hash\uff0c List\uff0c Set\uff0c Sort Set \u4e00\u822c\u8003\u8651\uff1a \u662f\u5426\u9700\u8981\u6392\u5e8f\uff1f\u8981\u4f7f\u7528Sort Set \u7f13\u5b58\u7684\u6570\u636e\u662f\u591a\u4e2a\u503c\u8fd8\u662f\u5355\u4e2a\u503c\uff0c \u591a\u4e2a\u503c\uff1a\u5141\u8bb8\u91cd\u590d\u9009List \u4e0d\u5141\u8bb8\u91cd\u590d\u9009\u62e9Set \u5355\u4e2a\u503c\uff1a\u7b80\u5355\u503c\u9009\u62e9String\uff0c \u5bf9\u8c61\u503c\u9009\u62e9Hash \u4e00\u79cd\u53d6\u5de7\u7684\u65b9\u5f0f\uff1a \u662f\u5426\u9700\u8981\u6392\u5e8f\uff1f\u8981\u4f7f\u7528Sort Set \u5269\u4e0b\u4f7f\u7528String \u64cd\u4f5c\u65b9\u5f0f\uff1a \u6240\u6709value\u4e4b\u540e\u90fd\u8f6c\u6362\u6210json\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u7f13\u5b58\u5230Redis\uff0c\u539f\u56e0\uff1aJava\u64cd\u4f5c\u65b9\u4fbf\uff0c\u51cf\u5c11\u6cdb\u578b\u64cd\u4f5c\u9ebb\u70e6 \u6bd4\u5982\uff1a List<String>list = ... Set<String> set = .... Map<String, Object> map = .... List<Object> list = redis\u5bf9\u8c61.getList Set<Object> set =redis\u5bf9\u8c61.getSet Map<Object, Object> map = redis\u5bf9\u8c61.getMap \u4e0d\u7ba1\u5b58\u653e\u5565\u6570\u636e\u7c7b\u578b\uff0c\u4ecereds\u4e2d\u83b7\u53d6\u51fa\u6765\u90fd\u662fObject\u7c7b\u578b\uff0c\u540e\u7eed\u5bf9\u8c61\u5f3a\u5236\u8f6c\u6362\u9ebb\u70e6\uff0c\u5e72\u8106\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u3002","title":"Value\u8bbe\u8ba1"},{"location":"redis/redis-langfei/#key","text":"Redis \u7684key \u8bbe\u8ba1\u8bb2\u7a764\u4e2a\u6027\uff1a","title":"Key\u8bbe\u8ba1"},{"location":"redis/redis-langfei/#_21","text":"Redis \u7c7b\u4f3cMap\u96c6\u5408\uff0ckey\u5fc5\u987b\u4fdd\u8bc1\u552f\u4e00\uff0c\u7f13\u5b58\u540c\u4e00\u4e2akey\u65f6\uff0c\u540e\u8005\u4f1a\u8986\u76d6\u524d\u8005\uff0c\u6240\u6709\u5fc5\u987b\u8981\u6c42\u552f\u4e00\uff0c\u90a3\u5982\u4f55\u4fdd\u8bc1\u552f\u4e00\u5462\uff1f \u6700\u5e38\u7528\u7684\u65b9\u5f0f\uff1a \u4f7f\u7528\u7f13\u5b58\u6570\u636e\u7684\u4e3b\u952e\u4f5c\u4e3akey \u3002 \u6bd4\u5982\uff1a\u7f13\u5b58\u5458\u5de5\u4fe1\u606f key value ---------------------------------------------------------------- 1 \u5458\u5de51 2 \u5458\u5de52 \u5176\u4e2d\u76841\uff0c 2 \u662f\u5458\u5de5\u7684id","title":"\u552f\u4e00\u6027"},{"location":"redis/redis-langfei/#_22","text":"\u53ef\u8bfb\u6027\u662f\u4fdd\u8bc1Redis\u7684key\u80fd\u505a\u5230\u89c1\u540d\u77e5\u610f\uff0c\u4e0a\u9762\u7684\u5458\u5de5id1\uff0c \u5458\u5de5id2 \u867d\u8bf4\u80fd\u4fdd\u8bc1key\u552f\u4e00\uff0c\u4f46\u53ef\u8bfb\u6027\u975e\u5e38\u5dee\uff0c\u7ef4\u62a4key\u65f6\uff0c\u65e0\u6cd5\u4ece\uff0c 1\uff0c 2\u4e2d\u5feb\u901f\u5224\u65ad\u8be5key\u5bf9\u5e94value\u503c\u3002\u6240\u4ee5\u4e00\u4e00\u822c\u5728\u4fdd\u8bc1key\u552f\u4e00\u7684\u524d\u63d0\u4e0b\uff0c\u7ed9key\u52a0\u4e0a\u524d\u7f00\uff1a key value ---------------------------------------------------------------- employee_info:id1 \u5458\u5de51 employee_info:id2 \u5458\u5de52 employee_info:id1 employee_info:id2 \u8fd9\u6837\u5b50\u8bbe\u8ba1key\uff0c\u53ef\u8bfb\u6027\u5c31\u597d\u591a\u4e86\u3002 \u53ef\u8bfb\u6027\u524d\u7f00\u7684\u8bbe\u8ba1\u89c4\u8303\u5343\u5947\u767e\u602a\uff0c\u6211\u4e2a\u4eba\u6bd4\u8f83\u63a8\u5d07\u7684\uff1a \u666e\u901a\u5355\u503c key value ---------------------------------------------------------------- employe_info:id1 \u5458\u5de5\u5bf9\u8c61\u4fe1\u606f \u7c7b\u4f3c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u8bbe\u8ba1 \u8868\u540d:\u4e3b\u952e\u540d:\u4e3b\u952e\u503c:\u5217\u540d key value ---------------------------------------------------------------- employee : id : 1:info \u5458\u5de5\u5bf9\u8c61\u4fe1\u606f \u901a\u7528\u73a9\u6cd5 \u4e1a\u52a1\u6a21\u5757\u540d:\u4e1a\u52a1\u903b\u8f91\u542b\u4e49:\u5176\u4ed6:value\u7c7b\u578b key value ----------------------------------------------------------------------- employee :base.info:id1:hash \u5458\u5de5\u5bf9\u8c61\u4fe1\u606f \u4e1a\u52a1\u6a21\u5757\u540d \uff1a\u8868\u793a\u8be5key\u5c5e\u4e8e\u54ea\u4e2a\u529f\u80fd\u6a21\u5757 \u4e1a\u52a1\u903b\u8f91\u542b\u4e49\u6bb5 \uff1a\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528 . \u5206\u5f00\uff0c \u5177\u4f53\u4e1a\u52a1\u903b\u8f91\u8868\u793a \u200b \u6bd4\u5982\uff1a\u7f13\u5b58\u5458\u5de5\u6743\u9650 \u200b employee:auth.permission:id1:set \u5458\u5de5\u6743\u9650\u96c6\u5408 \u5176\u4ed6 \uff1a\u4e00\u822c\u8bbe\u7f6e\u552f\u4e00\u6807\u8bc6\uff0c\u6bd4\u5982\u4e3b\u952e value\u7c7b\u578b \uff1akey\u5bf9\u5e94value\u7c7b\u578b\u503c\uff0c\u63d0\u9ad8\u53ef\u8bfb\u6027\u3002","title":"\u53ef\u8bfb\u6027"},{"location":"redis/redis-langfei/#-","text":"\u8fd9\u4e2a\u96be\u4ecb\u7ecd\uff0c\u4e00\u822ckey\u4fdd\u8bc1\u552f\u4e00\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e3b\u952e\uff0c\u6709\u7684\u4f7f\u7528\uff0c\u4e00\u4e2a\u4e3b\u952e\u4e0d\u80fd\u8868\u8fbe\u51fa\u5168\u90e8\u610f\u601d\uff0c\u53ef\u4ee5\u4f7f\u7528\u8054\u5408\u4e3b\u952e\u3002 \u6bd4\u5982\uff1a id\u4e3a1\u7684\u670b\u53cb\u5708\u4e0bid\u4e3aA\u7684\u8bc4\u8bba\u3002 key value ----------------------------------------------------------------------- post:1:reply:A \u8bc4\u8bba\u5185\u5bb9 post:1:reply:B \u8bc4\u8bba\u5185\u5bb9","title":"\u7075\u6d3b\u6027--\u9879\u76ee\u4e8c\u91cd\u70b9\u8bb2"},{"location":"redis/redis-langfei/#_23","text":"Redis key\u4e00\u5b9a\u8981\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3002\u8981\u8ddf\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u9700\u8981\u5bf9key\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\u3002\u53ef\u4ee5\u5728\u5199\u5165key\u65f6\uff0c\u5c31\u8981\u8ffd\u52a0\u8fc7\u671f\u65f6\u95f4\uff1b\u4e5f\u53ef\u4ee5\u5728\u6309\u7167\u9700\u8981\u52a8\u6001\u8bbe\u7f6e\u3002 \u8fd9\u91cc\u8981\u6ce8\u610f\uff1a \u4e0d\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u8fd9\u79cdkey\u4e3a\u6c38\u4e45key\uff0c\u4f1a\u4e00\u76f4\u5360\u7528\u5185\u5b58\u4e0d\u91ca\u653e\uff0c\u65f6\u95f4\u4e45\u4e86\uff0c\u6570\u91cf\u4e00\u591a\uff0c\u5c31\u5bb9\u6613\u8fbe\u5230\u670d\u52a1\u5668\u7684\u5185\u5b58\u4e0a\u9650\uff0c\u5bfc\u81f4\u5b95\u673a\uff0c\u5f00\u53d1\u65f6\u4e00\u822c\u914d\u5408Key\u8fc7\u671f\u7b56\u7565\u4f7f\u7528\u54e6\u3002 key\u7684\u65f6\u6548\u6027\u8bbe\u7f6e\uff0c\u5fc5\u987b\u6839\u636e\u4e1a\u52a1\u573a\u666f\u8fdb\u884c\u8bc4\u4f30\uff0c\u8bbe\u7f6e\u5408\u7406\u6709\u6548\u671f\uff1b","title":"\u65f6\u6548\u6027"},{"location":"redis/redis-langfei/#redis_6","text":"\u5168\u5c40\u547d\u4ee4\u9488\u5bf9\u7684\u662f\u6240\u6709\u7684key\uff0c\u5927\u90e8\u5206\u7528\u6765\u505a\u8fd0\u7ef4\uff0c\u505a\u7ba1\u7406\u7684 \u5e38\u7528\u7684\u5168\u5c40key \u547d\u4ee4\u683c\u5f0f \u529f\u80fd \u6848\u4f8b keys pattern \u6309\u7167pattern \u5339\u914d\u89c4\u5219\uff0c\u5217\u8868redis\u4e2d\u6240\u6709\u7684key keys xxx:* exists key \u5224\u65adkey\u662f\u5426\u5b58\u5728 exists name expire key seconds \u7ed9key\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u8d85\u65f6\uff1aseconds expire name 10 persist key \u53d6\u6d88key\u8fc7\u671f\u65f6\u95f4 persist name select index \u5207\u6362\u6570\u636e\u5e93\uff0c\u9ed8\u8ba4\u662f\u7b2c0\u4e2a\uff0c\u5171\u6709\u30100,15\u3011\u4e2a select 0 move key db \u4ece\u5f53\u524d\u6570\u636e\u5e93\u5c06key\u79fb\u52a8\u5230\u6307\u5b9adb\u5e93 move name 1 randomkey \u968f\u673a\u8fd4\u56de\u4e00\u4e2akey randomkey rename key newkey \u5c06key\u6539\u540d\u4e3anewkey rename name newname echo message \u6253\u5370message\u4fe1\u606f echo message dbsize \u67e5\u770bkey\u4e2a\u6570 dbsize info \u67e5\u770bredis\u6570\u636e\u5e93\u4fe1\u606f info config get * \u67e5\u770b\u6240\u6709redis\u914d\u7f6e\u4fe1\u606f config get * flushdb \u6e05\u7a7a\u5f53\u524d\u6570\u636e\u5e93 flushdb flushall \u6e05\u7a7a\u6240\u6709\u6570\u636e\u5e93 flushall","title":"Redis\u5168\u5c40\u547d\u4ee4"},{"location":"redis/redis-langfei/#redis_7","text":"\u56e0\u4e3aRedis\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u6240\u4ee5\u5728\u4e00\u53f0\u6bd4\u8f83\u597d\u7684\u670d\u52a1\u5668\u4e0b,\u4e00\u4e2a\u5916\u90e8\u7528\u6237\u5728\u4e00\u79d2\u5185\u53ef\u4ee5\u8fdb\u884c15w\u6b21\u7684\u5bc6\u7801\u5c1d\u8bd5\uff0c\u8fd9\u610f\u5473\u4f60\u9700\u8981\u8bbe\u5b9a\u975e\u5e38\u5f3a\u5927\u7684\u5bc6\u7801\u6765\u65b9\u5f0f\u66b4\u529b\u7834\u89e3\u3002\u6b64\u65f6\u5c31\u9700\u8981\u5bf9Redis\u8fdb\u884c\u5bc6\u7801\u8bbe\u7f6e\u5566\u3002 Linux\u7cfb\u7edf \u7f16\u8f91 redis.conf\u6587\u4ef6\uff0c\u627e\u5230\u4e0b\u9762\u8fdb\u884c\u4fdd\u5b58\u4fee\u6539 requirepass \u81ea\u5b9a\u4e49\u5bc6\u7801 \u91cd\u542fRedis\u670d\u52a1\uff0c\u8bbf\u95ee\u65f6\uff0c\u4f7f\u7528\u5e26\u5bc6\u7801\u7684\u547d\u4ee4\uff1a redis-cli -a \u81ea\u5b9a\u4e49\u5bc6\u7801 \u5426\u5219\u4f1a\u63d0\u793a\uff1a (error)NOAUTH Authentication required. Window\u7cfb\u7edf \u8ddfLinux\u7cfb\u7edf\u4e00\u6837\uff0c\u533a\u522b\u662f\uff0cwindow\u7cfb\u7edf\u7684\u6587\u4ef6\u662f redis.window-service.config","title":"Redis\u5b89\u5168\u6027"},{"location":"redis/redis-langfei/#redis_8","text":"\u4e00\u4e2a\u4e8b\u52a1\u4ece\u5f00\u59cb\u5230\u6267\u884c\u4f1a\u7ecf\u5386\u4ee5\u4e0b\u4e09\u4e2a\u9636\u6bb5\uff1a \u5f00\u59cb\u4e8b\u52a1\u3002 \u547d\u4ee4\u5165\u961f\u3002 \u6267\u884c\u4e8b\u52a1\u3002 \u501f\u7528\uff1a\u83dc\u9e1f\u6559\u7a0b\u4e2d\u4f8b\u5b50 \u5b83\u5148\u4ee5 MULTI \u5f00\u59cb\u4e00\u4e2a\u4e8b\u52a1\uff0c \u7136\u540e\u5c06\u591a\u4e2a\u547d\u4ee4\u5165\u961f\u5230\u4e8b\u52a1\u4e2d\uff0c \u6700\u540e\u7531 EXEC \u547d\u4ee4\u89e6\u53d1\u4e8b\u52a1\uff0c \u4e00\u5e76\u6267\u884c\u4e8b\u52a1\u4e2d\u7684\u6240\u6709\u547d\u4ee4\uff1a redis 127.0.0.1:6379> MULTI OK redis 127.0.0.1:6379> SET book-name \"Mastering C++ in 21 days\" QUEUED redis 127.0.0.1:6379> GET book-name QUEUED redis 127.0.0.1:6379> SADD tag \"C++\" \"Programming\" \"Mastering Series\" QUEUED redis 127.0.0.1:6379> SMEMBERS tag QUEUED redis 127.0.0.1:6379> EXEC 1) OK 2) \"Mastering C++ in 21 days\" 3) (integer) 3 4) 1) \"Mastering Series\" 2) \"C++\" 3) \"Programming\" \u5355\u4e2a Redis \u547d\u4ee4\u7684\u6267\u884c\u662f\u539f\u5b50\u6027\u7684\uff0c\u4f46 Redis \u6ca1\u6709\u5728\u4e8b\u52a1\u4e0a\u589e\u52a0\u4efb\u4f55\u7ef4\u6301\u539f\u5b50\u6027\u7684\u673a\u5236\uff0c\u6240\u4ee5 Redis \u4e8b\u52a1\u7684\u6267\u884c\u5e76\u4e0d\u662f\u539f\u5b50\u6027\u7684\u3002 Redis\u4e8b\u52a1\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a \u6253\u5305\u7684\u6279\u91cf\u6267\u884c\u811a\u672c \uff0c\u4f46\u6279\u91cf\u6307\u4ee4\u5e76\u975e\u539f\u5b50\u5316\u7684\u64cd\u4f5c\uff0c\u4e2d\u95f4\u67d0\u6761\u6307\u4ee4\u7684\u5931\u8d25\u4e0d\u4f1a\u5bfc\u81f4\u524d\u9762\u5df2\u505a\u6307\u4ee4\u7684\u56de\u6eda\uff0c\u4e5f\u4e0d\u4f1a\u9020\u6210\u540e\u7eed\u7684\u6307\u4ee4\u4e0d\u505a\u3002 127.0.0.1:6379> multi OK 127.0.0.1:6379(TX)> set name dafei QUEUED 127.0.0.1:6379(TX)> set age 18 QUEUED 127.0.0.1:6379(TX)> incr age QUEUED 127.0.0.1:6379(TX)> incr name QUEUED 127.0.0.1:6379(TX)> get age QUEUED 127.0.0.1:6379(TX)> get name QUEUED 127.0.0.1:6379(TX)> exec 1) OK 2) OK 3) (integer) 19 4) (error) ERR value is not an integer or out of range 5) \"19\" 6) \"dafei\" 127.0.0.1:6379> Redis \u4e8b\u52a1\u53ef\u4ee5\u4e00\u6b21\u6267\u884c\u591a\u4e2a\u547d\u4ee4\uff0c \u5e76\u4e14\u5e26\u6709\u4ee5\u4e0b\u4e09\u4e2a\u91cd\u8981\u7684\u4fdd\u8bc1\uff1a \u6279\u91cf\u64cd\u4f5c\u5728\u53d1\u9001 EXEC \u547d\u4ee4\u524d\u88ab\u653e\u5165\u961f\u5217\u7f13\u5b58\u3002 \u6536\u5230 EXEC \u547d\u4ee4\u540e\u8fdb\u5165\u4e8b\u52a1\u6267\u884c\uff0c\u4e8b\u52a1\u4e2d\u4efb\u610f\u547d\u4ee4\u6267\u884c\u5931\u8d25\uff0c\u5176\u4f59\u7684\u547d\u4ee4\u4f9d\u7136\u88ab\u6267\u884c\u3002 \u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\uff0c\u5176\u4ed6\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u547d\u4ee4\u8bf7\u6c42\u4e0d\u4f1a\u63d2\u5165\u5230\u4e8b\u52a1\u6267\u884c\u547d\u4ee4\u5e8f\u5217\u4e2d\u3002","title":"Redis\u4e8b\u52a1[\u62d3\u5c55]"},{"location":"redis/redis-langfei/#redis_9","text":"","title":"Redis\u6301\u4e45\u5316\u673a\u5236[\u62d3\u5c55]"},{"location":"redis/redis-langfei/#_24","text":"\u5148\u6765\u4e00\u4e2a\u5c0f\u5b9e\u9a8c\uff0c\u5927\u5bb6\u53ef\u4ee5\u4e00\u8d77\u5b9e\u73b0\u4e00\u4e0b \u6b65\u9aa41\uff1a\u5728Redis\u4e2d\u6dfb\u52a02\u4e2akey-value\u5bf9 127.0.0.1:6379> set aa aa OK 127.0.0.1:6379> set bb bb OK 127.0.0.1:6379> keys * \u6b65\u9aa42\uff1a\u91cd\u542fRedis \u670d\u52a1\u5668\uff0c\u5728\u6267\u884ckeys * \u89c2\u5bdf\u6570\u636e \u6b65\u9aa43\uff1a\u5206\u6790\u7ed3\u679c \u4f1a\u51fa\u73b0\u4e00\u4e0b\u51e0\u79cd\u7ed3\u679c\uff1a \u4e4b\u524d\u7684key\u5728\uff0caa bb \u90fd\u5728\uff08\u6700\u7406\u60f3\u7684\u7ed3\u679c\uff09 \u4e4b\u524d\u7684key\u5728\uff0caa\u4e5f\u5728\uff0cbb\u4e0d\u89c1\u4e86 \u4e4b\u524d\u7684key\u5728\uff0caa\uff0c bb \u4e0d\u5728 \u4e4b\u524d\u7684key\uff0c aa\uff0c bb \u90fd\u4e0d\u5728\u4e86\uff08\u6700\u574f\u7684\u7ed3\u679c\uff09 \u601d\u8003\uff1a \u4e3a\u5565\u4f1a\u8fd9\u6837\uff1f\u4ee5\u6211\u4eec\u5bf9\u5185\u5b58\u7684\u64cd\u4f5c\u7406\u89e3\uff0c\u6309\u9053\u7406\u91cd\u542f\u4e4b\u540e\u6570\u636e\u5e94\u8be5\u5168\u4e22\u5931\u4e86\uff0c\u4e3a\u5565Redis \u53ef\u80fd\u4e22\u5931\uff0c\u4e5f\u53ef\u80fd\u4e0d\u4e22\u5931\uff0c\u4e3a\u4f55\uff1f \u8fd9\u91cc\u5c31\u6d89\u53ca\u5230Redis\u7684\u6301\u4e45\u5316\u673a\u5236\u4e86\u3002 * Redis\u6301\u4e45\u5316\u673a\u5236\u76ee\u524d\u4ee5\u540e3\u79cd\uff0c\u5206\u522b\u4e3a\uff1a 1> \u5feb\u7167\u65b9\u5f0f \uff08RDB, Redis DataBase\uff09 2> \u6587\u4ef6\u8ffd\u52a0\u65b9\u5f0f \uff08AOF, Append Only File\uff09 3> \u6df7\u5408\u6301\u4e45\u5316\u65b9\u5f0f \uff08Redis4\u7248\u672c\u4e4b\u540e\uff09","title":"\u5f15\u8a00"},{"location":"redis/redis-langfei/#rdb","text":"Snapshotting(\u5feb\u7167)\u9ed8\u8ba4\u65b9\u5f0f\uff0c\u5c06\u5185\u5b58\u6570\u636e\u4e2d\u4ee5\u5feb\u7167\u7684\u65b9\u5f0f\u5199\u5165\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\uff0c\u9ed8\u8ba4\u4e3adump.rdb\u3002\u89e6\u53d1RDB\u6301\u4e45\u5316\u8fc7\u7a0b\u5206\u624b\u52a8\u89e6\u53d1\u4e0e\u81ea\u52a8\u89e6\u53d1\u3002","title":"RDB\u65b9\u5f0f"},{"location":"redis/redis-langfei/#_25","text":"\u624b\u52a8\u89e6\u53d1 \u4f7f\u7528save\u547d\u4ee4\uff1a\u4f1a\u963b\u585e\u5f53\u524dRedis\u670d\u52a1\u5668\uff0c\u77e5\u9053RDB\u8fc7\u7a0b\u5b8c\u6210\u4e3a\u4e3b\uff0c\u5982\u679c\u5185\u5b58\u6570\u636e\u8f83\u591a\uff0c\u4f1a\u9020\u6210\u957f\u65f6\u95f4\u963b\u585e\uff0c\u5f71\u54cd\u5176\u4ed6\u547d\u4ee4\u7684\u4f7f\u7528\uff0c\u4e0d\u5efa\u8bae\u8f7b\u6613\u4f7f\u7528 \u4f7f\u7528bgsave\u547d\u4ee4\uff1aRedis\u8fdb\u7a0b\u6267\u884cfork\u6307\u4ee4\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u7531\u5b50\u8fdb\u7a0b\u5b9e\u73b0RDB\u6301\u4e45\u5316\uff0c\u6709\u9700\u8981\u65f6\u5efa\u8bae\u4f7f\u7528bgsave\u547d\u4ee4\u3002 \u81ea\u52a8\u89e6\u53d1 \u4f7f\u7528save\u76f8\u5173\u914d\u7f6e\uff0c\u683c\u5f0f\uff1a save m n \u8868\u793am\u79d2\u5185\u6570\u636e\u96c6\u5b58\u5728n\u6b21\u4fee\u6539\u65f6\u4f1a\u81ea\u52a8\u89e6\u53d1bgsave\u547d\u4ee4\u3002 save 900 1 #900\u79d2\u5185\u5982\u679c\u8d85\u8fc71\u4e2aKey\u88ab\u4fee\u6539\u5219\u53d1\u8d77\u5feb\u7167\u4fdd\u5b58 save 300 10 #300\u79d2\u5185\u5982\u679c\u8d85\u8fc710\u4e2akey\u88ab\u4fee\u6539,\u5219\u53d1\u8d77\u5feb\u7167\u4fdd\u5b58 save 60 10000 *","title":"\u89e6\u53d1\u673a\u5236"},{"location":"redis/redis-langfei/#_26","text":"RDB\u5feb\u7167\u6587\u4ef6\u662f\u4e00\u4e2a\u7d27\u51d1\u538b\u7f29\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u975e\u5e38\u4f7f\u7528\u7528\u4e8e\u5907\u4efd\uff0c\u5168\u91cf\u590d\u5236\u7b49\u573a\u666f\u3002\u5f00\u53d1\u4e2d\u53ef\u4ee5\u6309\u7167\u6bcf6\u5c0f\u65f6\u6267\u884c\u4e00\u6b21bgsave\u5907\u4efd\uff0c\u7528\u4e8e\u5bb9\u707e\u5907\u4efd\u3002 Redis\u52a0\u8f7dRDB\u6062\u590d\u6570\u636e\u8fdc\u8fdc\u5feb\u4e8eAOF\u65b9\u5f0f","title":"\u4f18\u70b9"},{"location":"redis/redis-langfei/#_27","text":"RDB\u65e0\u6cd5\u505a\u5230\u5b9e\u65f6\u6301\u4e45\u5316/\u79d2\u7ea7\u6301\u4e45\u5316\uff0c\u6bcf\u6b21bgsave\u65f6\u90fd\u9700\u8981fork\u5b50\u8fdb\u7a0b\uff0c\u9891\u7e41\u6267\u884c\u6709\u65f6\u95f4\u6210\u672c\u3002 RDB\u5feb\u7167\u6587\u4ef6\u4e0d\u540c\u7248\u672c\u683c\u5f0f\u4e0d\u4e00\u6837\uff0c\u5bb9\u6613\u5f15\u8d77\u517c\u5bb9\u95ee\u9898\u3002","title":"\u7f3a\u70b9"},{"location":"redis/redis-langfei/#aof","text":"AOF\u4e0eRDB\u4e0d\u4e00\u6837\uff0c\u5b83\u662f\u4e00\u72ec\u7acb\u65e5\u5fd7\u7684\u65b9\u5f0f\u8bb0\u5f55\u6bcf\u6b21\u5199\u547d\u4ee4\uff0c\u91cd\u542f\u65f6\u518d\u91cd\u65b0\u6267\u884cAOF\u6587\u4ef6\u4e2d\u547d\u4ee4\u8fbe\u5230\u6062\u590d\u6570\u636e\u7684\u76ee\u7684\u3002\u89e3\u51b3\u4e86\u6570\u636e\u6301\u4e45\u5316\u7684\u5b9e\u65f6\u6027\u7684\u95ee\u9898\u3002 Redis\u9ed8\u8ba4\u662f\u4e0d\u5f00\u542f\u7684\uff0c\u9700\u8981\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u914d\u7f6e\uff1a appendonly yes AOF \u67093\u79cd\u6587\u4ef6\u540c\u6b65\u7b56\u7565 \u7b56\u7565 \u89e3\u91ca appendfsync always \u6536\u5230\u547d\u4ee4\u5c31\u7acb\u5373\u5199\u5230\u78c1\u76d8,\u6548\u7387\u6700\u6162.\u4f46\u662f\u80fd\u4fdd\u8bc1\u5b8c\u5168\u7684\u6301\u4e45\u5316 appendfsync everysec \u6bcf\u79d2\u5199\u5165\u78c1\u76d8\u4e00\u6b21,\u5728\u6027\u80fd\u548c\u6301\u4e45\u5316\u65b9\u9762\u505a\u4e86\u5f88\u597d\u7684\u6298\u4e2d appendfsync no \u5b8c\u5168\u4ee5\u4f9d\u8d56os\uff0c\u4e00\u822c\u540c\u6b65\u5468\u671f\u662f30\u79d2 *","title":"AOF\u65b9\u5f0f"},{"location":"redis/redis-langfei/#_28","text":"AOF\u65b9\u5f0f\u6570\u636e\u5b89\u5168\u6027\u66f4\u9ad8\uff0c\u914d\u7f6e\u5f97\u5f53\uff0c\u6700\u591a\u635f\u59311\u79d2\u7684\u6570\u636e\u91cf \u5728\u4e0d\u5c0f\u5fc3\u6267\u884cflushall\u547d\u4ee4\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7AOF\u65b9\u5f0f\u6062\u590d(\u5220\u9664\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\u5373\u53ef) AOF \u65e5\u5fd7\u662f\u4e00\u4e2a\u589e\u91cf\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e0d\u4f1a\u5b58\u5728\u65ad\u7535\u65f6\u51fa\u73b0\u635f\u574f\u95ee\u9898\u3002\u5373\u4f7f\u51fa\u73b0\u95ee\u9898\uff0credis-check-aof \u5de5\u5177\u4e5f\u80fd\u591f\u8f7b\u677e\u4fee\u590d\u5b83\u3002 \u5f53 AOF \u53d8\u5f97\u592a\u5927\u65f6\uff0cRedis \u80fd\u591f\u5728\u540e\u53f0\u81ea\u52a8\u91cd\u5199 AOF","title":"\u4f18\u70b9"},{"location":"redis/redis-langfei/#_29","text":"\u76f8\u540c\u6570\u636e\u91cf\u6765\u8bf4\uff0cAOF\u6587\u4ef6\u4f53\u79ef\u901a\u5e38\u5927\u4e8eRDB\u6587\u4ef6 \u6570\u636e\u6301\u4e45\u5316\u6027\u80fd\u4e0a\u6765\u8bf4\uff0cAOF \u6bd4 RDB \u6162","title":"\u7f3a\u70b9"},{"location":"redis/redis-langfei/#rdb-aof","text":"\u6df7\u5408\u6301\u4e45\u5316\u662f\u7ed3\u5408\u4e86 RDB \u548c AOF \u7684\u4f18\u70b9\uff0c\u5728\u5199\u5165\u7684\u65f6\u5019\uff0c\u5148\u628a\u5f53\u524d\u7684\u6570\u636e\u4ee5 RDB \u7684\u5f62\u5f0f\u5199\u5165\u6587\u4ef6\u7684\u5f00\u5934\uff0c\u518d\u5c06\u540e\u7eed\u7684\u64cd\u4f5c\u547d\u4ee4\u4ee5 AOF \u7684\u683c\u5f0f\u5b58\u5165\u6587\u4ef6\u3002\u5373\u4ee5 RDB \u4f5c\u4e3a\u5168\u91cf\u5907\u4efd\uff0cAOF \u4f5c\u4e3a\u589e\u91cf\u5907\u4efd\uff0c\u6765\u63d0\u9ad8\u5907\u4efd\u6548\u7387\u3002\u8fd9\u6837\u65e2\u80fd\u4fdd\u8bc1 Redis \u91cd\u542f\u65f6\u7684\u901f\u5ea6\uff0c\u53c8\u80fd\u9632\u6b62\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669\uff0c \u8fd9\u5c31\u662f Redis 4.0 \u4e4b\u540e\u63a8\u51fa\u7684 RDB-AOF \u6df7\u5408\u6301\u4e45\u5316\u6a21\u5f0f\uff0c\u5176\u4f5c\u4e3a\u9ed8\u8ba4\u914d\u7f6e\u6765\u4f7f\u7528 \u3002","title":"RDB-AOF\u6df7\u5408\u65b9\u5f0f"},{"location":"redis/redis-langfei/#_30","text":"\u5982\u679c\u5bf9\u6570\u636e\u5b89\u5168\u6027\u6709\u975e\u5e38\u9ad8\u7684\u8981\u6c42\uff0c\u5efa\u8bae RDB \u548c AOF \u540c\u65f6\u542f\u7528\u3002 \u5982\u679c\u5bf9\u6570\u636e\u5b89\u5168\u6027\u8981\u6c42\u4e0d\u662f\u5f88\u9ad8\uff0c\u80fd\u591f\u5bb9\u5fcd\u6570\u636e\u7684\u4e22\u5931\uff0c\u5efa\u8bae\u5355\u72ec\u4f7f\u7528 RDB\u3002 \u4e0d\u63a8\u8350\u5355\u72ec\u4f7f\u7528 AOF\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u8fdb\u884c\u6570\u636e\u5e93\u5907\u4efd\u3001\u66f4\u5feb\u91cd\u542f\u4ee5\u53ca AOF \u5f15\u64ce\u4e2d\u51fa\u73b0\u9519\u8bef\u7684\u60c5\u51b5\u6765\u8bf4\uff0cRDB \u662f\u66f4\u597d\u7684\u9009\u62e9\u3002 \u5982\u679c\u6ca1\u7279\u6b8a\u8981\u6c42\uff0cRedis\u53c8\u662f4.x\u7248\u672c\u4ee5\u4e0a\uff0c\u53ef\u4ee5\u9009\u62e9RDB-AOF\u6df7\u5408\u65b9\u5f0f\u3002 \u5982\u679c\u4e0d\u662f\u6df7\u5408\u6a21\u5f0f\uff0c\u800c\u662f\u666e\u901a\u7684RDB\u4e0eAOF\u4e00\u8d77\u542f\u52a8\u65f6\uff0cRedis\u52a0\u8f7d\u6570\u636e\u6267\u884c\u6d41\u7a0b *","title":"\u6301\u4e45\u5316\u673a\u5236\u9009\u62e9"},{"location":"redis/redis-langfei/#redis_10","text":"","title":"Redis\u5185\u5b58\u6dd8\u6c70\u673a\u5236[\u62d3\u5c55]"},{"location":"redis/redis-langfei/#_31","text":"Redis \u542f\u52a8\u4f1a\u52a0\u8f7d\u4e00\u4e2a\u914d\u7f6e\uff1a maxmemory <byte> //\u5185\u5b58\u4e0a\u9650 \u9ed8\u8ba4\u503c\u4e3a 0 (window\u7248\u7684\u9650\u5236\u4e3a100M)\uff0c\u8868\u793a\u9ed8\u8ba4\u8bbe\u7f6eRedis\u5185\u5b58\u4e0a\u9650\u3002\u4f46\u662f\u771f\u5b9e\u5f00\u53d1\u8fd8\u662f\u9700\u8981\u63d0\u524d\u8bc4\u4f30key\u7684\u4f53\u91cf\uff0c\u63d0\u524d\u8bbe\u7f6e\u597d\u5185\u5bb9\u4e0a\u9650\u3002 \u6b64\u65f6\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u5f00\u53d1\u4e2d\uff0c\u5728\u8bbe\u7f6e\u5b8c\u5185\u5b58\u4e0a\u9650\u4e4b\u540e\uff0c\u5982\u679cRedis key\u8fbe\u5230\u4e0a\u9650\u4e86\uff0c\u8be5\u600e\u4e48\u529e\uff1f\u8fd9\u5c31\u8bbe\u7f6e\u5230Redis\u7684\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e86\u3002","title":"\u5f15\u8a00"},{"location":"redis/redis-langfei/#_32","text":"Redis\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u4e5f\u53ef\u4ee5\u79f0\u4e4b\u4e3akey\u5185\u5377\u673a\u5236\uff0c\u5f53\u8d44\u6e90\u4e0d\u8db3\u65f6\uff0c\u8be5\u5982\u4f55\u9009\u62e9\uff1f \u5e38\u89c1\u7684\u5185\u5b58\u6dd8\u6c70\u673a\u5236\u5206\u4e3a\u56db\u5927\u7c7b\uff1a LRU\uff1a LRU\u662fLeast recently used\uff0c\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u610f\u601d\uff0c\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u6700\u8fd1\u6700\u5c11\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u8be5\u7b97\u6cd5\u8ba4\u4e3a\uff0c\u4f60\u957f\u671f\u4e0d\u7528\u7684\u6570\u636e\uff0c\u90a3\u4e48\u88ab\u518d\u6b21\u8bbf\u95ee\u7684\u6982\u7387\u4e5f\u5c31\u5f88\u5c0f\u4e86\uff0c\u6dd8\u6c70\u7684\u6570\u636e\u4e3a\u6700\u957f\u65f6\u95f4\u6ca1\u6709\u88ab\u4f7f\u7528\uff0c\u4ec5\u4e0e\u65f6\u95f4\u76f8\u5173\u3002 LFU\uff1a LFU\u662fLeast Frequently Used\uff0c\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528\u7684\u610f\u601d\uff0c\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\u6dd8\u6c70\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4f7f\u7528\u6b21\u6570\u6700\u5c11\u7684\u6570\u636e\uff0c\u8fd9\u4e2a\u4e0e\u9891\u6b21\u548c\u65f6\u95f4\u76f8\u5173\u3002 TTL\uff1a Redis\u4e2d\uff0c\u6709\u7684\u6570\u636e\u662f\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\uff0c\u800c\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u8fd9\u90e8\u5206\u6570\u636e\uff0c\u5c31\u662f\u8be5\u7b97\u6cd5\u8981\u89e3\u51b3\u7684\u5bf9\u8c61\u3002\u5982\u679c\u4f60\u5feb\u8fc7\u671f\u4e86\uff0c\u4e0d\u597d\u610f\u601d\uff0c\u6211\u5185\u5b58\u73b0\u5728\u4e0d\u591f\u4e86\uff0c\u53cd\u6b63\u4f60\u4e5f\u8981\u9000\u4f11\u4e86\uff0c\u63d0\u524d\u9001\u4f60\u4e00\u7a0b\uff0c\u628a\u4f60\u5e72\u6389\u5427\u3002 \u968f\u673a\u6dd8\u6c70\uff1a\u751f\u6b7b\u6709\u547d\uff0c\u5bcc\u8d35\u5728\u5929\uff0c\u662f\u5426\u88ab\u5e72\u6389\uff0c\u5168\u51ed\u5929\u610f\u4e86\u3002","title":"\u5185\u5b58\u6dd8\u6c70\u7b97\u6cd5"},{"location":"redis/redis-langfei/#redis_11","text":"Redis \u901a\u8fc7\u914d\u7f6e maxmemroy-policy \u6765\u914d\u7f6e\u6307\u5b9a\u5177\u4f53\u7684\u6dd8\u6c70\u673a\u5236\uff0c\u53ef\u4f9b\u9009\u62e9\u7684\u503c\u6709\uff1a \u901a\u8fc7maxmemroy-policy\u53ef\u4ee5\u914d\u7f6e\u5177\u4f53\u7684\u6dd8\u6c70\u673a\u5236\uff0c\u770b\u4e86\u7f51\u4e0a\u5f88\u591a\u6587\u7ae0\u8bf4\u53ea\u67096\u79cd\uff0c\u5176\u5b9e\u67098\u79cd\uff0c\u53ef\u4ee5\u770bRedis5.0\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4e0a\u9762\u6709\u8bf4\u660e\uff1a volatile-lru -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u5c06\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff08\u88ab\u8bbf\u95ee\u5230\uff09\u7684\u6570\u636e\u5e72\u6389\u3002 volatile-ttl -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u5c06\u5373\u5c06\u8fc7\u671f\u7684\u6570\u636e\u5e72\u6389\u3002 volatile-random -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u8fdb\u884c\u65e0\u5dee\u522b\u653b\u51fb\uff0c\u968f\u673a\u5e72\u6389\u6570\u636e\u3002 volatile-lfu -> \u627e\u51fa\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u96c6\uff0c\u5c06\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4f7f\u7528\u6b21\u6570\u6700\u5c11\u7684\u6570\u636e\u5e72\u6389\u3002 allkeys-lru ->\u4e0e\u7b2c1\u4e2a\u5dee\u4e0d\u591a\uff0c\u6570\u636e\u96c6\u4ece\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u6570\u636e\u53d8\u4e3a\u5168\u4f53\u6570\u636e\u3002 allkeys-lfu -> \u4e0e\u7b2c4\u4e2a\u5dee\u4e0d\u591a\uff0c\u6570\u636e\u96c6\u4ece\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u6570\u636e\u53d8\u4e3a\u5168\u4f53\u6570\u636e\u3002 allkeys-random -> \u4e0e\u7b2c3\u4e2a\u5dee\u4e0d\u591a\uff0c\u6570\u636e\u96c6\u4ece\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u6570\u636e\u53d8\u4e3a\u5168\u4f53\u6570\u636e\u3002 no-enviction -> \u4ec0\u4e48\u90fd\u4e0d\u5e72\uff0c\u62a5\u9519\uff0c\u544a\u8bc9\u4f60\u5185\u5b58\u4e0d\u8db3\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931 \u7cfb\u7edf\u9ed8\u8ba4\u9009\u62e9\uff1a noenviction","title":"Redis\u6dd8\u6c70\u7b56\u7565"},{"location":"redis/redis-langfei/#key_1","text":"\u63a5\u4e0b\u8ba8\u8bba\u4e00\u4e2a\u95ee\u9898\uff1aRedis\u7684key\u8fc7\u671f\u4e86\uff0c\u8be5\u5982\u4f55\u6e05\u7406\u95ee\u9898\u3002 Redis\u7ed9\u51fa3\u79cd\u5b9e\u73b0\u65b9\u6848\uff1a \u60f0\u6027\u5220\u9664 \uff1a\u5f53\u8bbf\u95eeKey\u65f6\uff0c\u624d\u53bb\u5224\u65ad\u5b83\u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\uff0c\u76f4\u63a5\u5e72\u6389\u3002\u8fd9\u79cd\u65b9\u5f0f\u5bf9CPU\u5f88\u53cb\u597d\uff0c\u4f46\u662f\u4e00\u4e2akey\u5982\u679c\u957f\u671f\u4e0d\u7528\uff0c\u4e00\u76f4\u5b58\u5728\u5185\u5b58\u91cc\uff0c\u4f1a\u9020\u6210\u5185\u5b58\u6d6a\u8d39\u3002 \u5b9a\u65f6\u5220\u9664 \uff1a\u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\u7684\u540c\u65f6\uff0c\u521b\u5efa\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u5f53\u5230\u8fbe\u8fc7\u671f\u65f6\u95f4\u70b9\uff0c\u7acb\u5373\u6267\u884c\u5bf9Key\u7684\u5220\u9664\u64cd\u4f5c\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5bf9CPU\u4e0d\u53cb\u597d\uff0c\u5f97\u989d\u5916\u8ba9\u51faCPU\u7ef4\u62a4\u5b9a\u65f6\u5668\u3002 \u5b9a\u671f\u5220\u9664 \uff1a\u9694\u4e00\u6bb5\u65f6\u95f4\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u4e00\u6b21\u68c0\u67e5\uff0c\u5220\u9664\u91cc\u9762\u7684\u8fc7\u671fKey\uff0c\u81f3\u4e8e\u8981\u5220\u9664\u591a\u5c11\u8fc7\u671fKey\uff0c\u68c0\u67e5\u591a\u5c11\u6570\u636e\uff0c\u5219\u7531\u7b97\u6cd5\u51b3\u5b9a\u3002 Redis\u670d\u52a1\u5668\u5b9e\u9645\u4f7f\u7528\u7684\u662f\u60f0\u6027\u5220\u9664\u548c\u5b9a\u671f\u5220\u9664\u4e24\u79cd\u7b56\u7565\uff1a\u901a\u8fc7\u914d\u5408\u4f7f\u7528\u8fd9\u4e24\u79cd\u5220\u9664\u7b56\u7565\uff0c\u53ef\u4ee5\u5f88\u597d\u5730\u5728\u5408\u7406\u4f7f\u7528CPU\u548c\u907f\u514d\u6d6a\u8d39\u5185\u5b58\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861\u3002","title":"\u8fc7\u671fKey\u5904\u7406[\u62d3\u5c55]"},{"location":"redis/redis-langfei/#redis_12","text":"","title":"Redis\u7f16\u7a0b"},{"location":"redis/redis-langfei/#_33","text":"Redis\u7f16\u7a0b\u5c31\u662f\u4f7f\u7528\u7f16\u7a0b\u65b9\u5f0f\u64cd\u4f5cRedis\uff0c\u5f53\u524dRedis\u652f\u6301\u7684\u7f16\u7a0b\u8bed\u8a00\u6709\uff1ahttps://redis.io/docs/clients/ \u8fd9\u91cc\u4ee5Java\u4e3a\u5f00\u53d1\u8bed\u8a00\uff0c\u9009\u62e9Java\u70b9\u51fb\u8fdb\u53bb java\u5b9e\u73b0\u64cd\u4f5cRedis\u7684\u5ba2\u6237\u7aef\u6709\u5f88\u591a\uff0c\u5176\u4e2d\u540d\u6c14\u6700\u9ad8\u7684\uff1a Redisson \uff0c Jedis \uff0c lettuce 3\u4e2a\u5ba2\u6237\u7aef\uff0c\u5176\u4e2dJedis\uff0clettuce\u4fa7\u91cd\u4e8e\u5355\u4f8bRedis \u6570\u636e\u5e93\u7684 CRUD\uff08\u589e\u5220\u6539\u67e5\uff09\uff0cRedisson \u4fa7\u91cd\u4e8e\u5206\u5e03\u5f0f\u5f00\u53d1\u3002\u5f53\u524d\u91cd\u70b9\u8bb2\u89e3Jedis\u4e0elettuce\u7684\u4f7f\u7528\uff0c\u540e\u7eed\u6709\u673a\u4f1a\u518d\u91cd\u70b9\u8bb2\u89e3Redisson\u4f7f\u7528\u3002","title":"\u6982\u51b5"},{"location":"redis/redis-langfei/#jedis","text":"\u9879\u76ee\u4f7f\u7528\u7684SpringBoot\uff0c\u6240\u4ee5\u91cd\u70b9\u8bb2\u89e3SpringBoot\u7ee7\u627fJedis \u6b65\u9aa41\uff1a\u5efa\u9879\u76ee\uff0c\u5bfc\u5165\u4f9d\u8d56 <parent> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-parent</artifactId> <version>2.4.3</version> <relativePath/> <!-- lookup parent from repository --> </parent> <dependencies> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-test</artifactId> <scope>test</scope> </dependency> <dependency> <groupId>redis.clients</groupId> <artifactId>jedis</artifactId> </dependency> <dependency> <groupId>org.projectlombok</groupId> <artifactId>lombok</artifactId> </dependency> </dependencies> \u6b65\u9aa42\uff1a\u5bfc\u5165\u914d\u7f6e\u6587\u4ef6 #redis\u914d\u7f6e--jedis\u7248 jedis: pool: #redis\u670d\u52a1\u5668\u7684IP host: localhost #redis\u670d\u52a1\u5668\u7684Port port: 6379 #\u6570\u636e\u5e93\u5bc6\u7801 password: #\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4 timeout: 7200 #\u6700\u5927\u6d3b\u52a8\u5bf9\u8c61\u6570 maxTotall: 100 #\u6700\u5927\u80fd\u591f\u4fdd\u6301idel\u72b6\u6001\u7684\u5bf9\u8c61\u6570 maxIdle: 100 #\u6700\u5c0f\u80fd\u591f\u4fdd\u6301idel\u72b6\u6001\u7684\u5bf9\u8c61\u6570 minIdle: 50 #\u5f53\u6c60\u5185\u6ca1\u6709\u8fd4\u56de\u5bf9\u8c61\u65f6\uff0c\u6700\u5927\u7b49\u5f85\u65f6\u95f4 maxWaitMillis: 10000 #\u5f53\u8c03\u7528borrow Object\u65b9\u6cd5\u65f6\uff0c\u662f\u5426\u8fdb\u884c\u6709\u6548\u6027\u68c0\u67e5 testOnBorrow: true #\u5f53\u8c03\u7528return Object\u65b9\u6cd5\u65f6\uff0c\u662f\u5426\u8fdb\u884c\u6709\u6548\u6027\u68c0\u67e5 testOnReturn: true #\u201c\u7a7a\u95f2\u94fe\u63a5\u201d\u68c0\u6d4b\u7ebf\u7a0b\uff0c\u68c0\u6d4b\u7684\u5468\u671f\uff0c\u6beb\u79d2\u6570\u3002\u5982\u679c\u4e3a\u8d1f\u503c\uff0c\u8868\u793a\u4e0d\u8fd0\u884c\u201c\u68c0\u6d4b\u7ebf\u7a0b\u201d\u3002\u9ed8\u8ba4\u4e3a-1. timeBetweenEvictionRunsMillis: 30000 #\u5411\u8c03\u7528\u8005\u8f93\u51fa\u201c\u94fe\u63a5\u201d\u5bf9\u8c61\u65f6\uff0c\u662f\u5426\u68c0\u6d4b\u5b83\u7684\u7a7a\u95f2\u8d85\u65f6\uff1b testWhileIdle: true # \u5bf9\u4e8e\u201c\u7a7a\u95f2\u94fe\u63a5\u201d\u68c0\u6d4b\u7ebf\u7a0b\u800c\u8a00\uff0c\u6bcf\u6b21\u68c0\u6d4b\u7684\u94fe\u63a5\u8d44\u6e90\u7684\u4e2a\u6570\u3002\u9ed8\u8ba4\u4e3a3. numTestsPerEvictionRun: 50 \u6b65\u9aa43\uff1a\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6 @Component @ConfigurationProperties(prefix = \"jedis.pool\") @Getter @Setter public class JedisProperties { private int maxTotall; private int maxIdle; private int minIdle; private int maxWaitMillis; private boolean testOnBorrow; private boolean testOnReturn; private int timeBetweenEvictionRunsMillis; private boolean testWhileIdle; private int numTestsPerEvictionRun; private String host; private String password; private int port; private int timeout; } \u6b65\u9aa44\uff1a\u7f16\u5199Jedis\u914d\u7f6e\u7c7b @Configuration public class JedisConfig { /** * jedis\u8fde\u63a5\u6c60 * @param jedisProperties * @return */ @Bean public JedisPool jedisPool(JedisProperties jedisProperties) { JedisPoolConfig config = new JedisPoolConfig(); config.setMaxTotal(jedisProperties.getMaxTotall()); config.setMaxIdle(jedisProperties.getMaxIdle()); config.setMinIdle(jedisProperties.getMinIdle()); config.setMaxWait(Duration.ofMillis(jedisProperties.getMaxWaitMillis())); config.setTestOnBorrow(jedisProperties.isTestOnBorrow()); config.setTestOnReturn(jedisProperties.isTestOnReturn()); config.setTimeBetweenEvictionRuns(Duration.ofMillis(jedisProperties.getTimeBetweenEvictionRunsMillis())); config.setTestWhileIdle(jedisProperties.isTestWhileIdle()); config.setNumTestsPerEvictionRun(jedisProperties.getNumTestsPerEvictionRun()); if (StringUtils.hasText(jedisProperties.getPassword())) { return new JedisPool(config, jedisProperties.getHost(), jedisProperties.getPort(), jedisProperties.getTimeout(), jedisProperties.getPassword()); } return new JedisPool(config, jedisProperties.getHost(), jedisProperties.getPort(), jedisProperties.getTimeout()); } } \u6b65\u9aa45\uff1a\u7f16\u5199\u6d4b\u8bd5\u7c7b\uff0c\u5b9e\u73b0\u6d4b\u8bd5 @SpringBootTest public class JedisTest { @Autowired private JedisPool jedisPool; @Test public void testConnection(){ System.out.println(jedisPool); Jedis jedis = jedisPool.getResource(); //\u9700\u6c42\uff1a\u5f80redis\u4e2d\u6dfb\u52a0kv\u5bf9\uff1a name\uff1adafei jedis.set(\"name\", \"dafei\"); System.out.println(jedis.get(\"name\")); jedis.close(); } } \u64cd\u4f5c\u6280\u5de7\uff1ajedis\u4e2d\u65b9\u6cd5\u8ddfRedis\u4e2d\u547d\u4ee4\u4e00\u6837","title":"Jedis"},{"location":"redis/redis-langfei/#lettuce","text":"Lettuce \u4e4b\u6240\u4ee5\u80fd\u6d41\u884c\uff0c\u56e0\u4e3a\u5b83\u62b1\u4e86\u6839\u597d\u5927\u817f-Spring-data\u3002Spring-data-redis\u5e95\u5c42\u5c31\u5c01\u88c5\u4e86Lettuce\uff0c\u63a5\u4e0b\u6765\u770b\u4e0bSpringboot\u7248\u7684lettuce\u5b9e\u73b0\u3002 \u6b65\u9aa41\uff1a\u5bfc\u5165\u4f9d\u8d56 <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-data-redis</artifactId> </dependency> \u6b65\u9aa42\uff1aRedis\u914d\u7f6e spring: redis: host: 127.0.0.1 port: 6379 password: admin \u6b65\u9aa43\uff1a\u7f16\u5199\u6d4b\u8bd5\u7c7b\uff0c\u5b9e\u73b0\u6d4b\u8bd5 @SpringBootTest public class LettureTest { @Autowired //\u7ea6\u5b9a\uff1a // \u64cd\u4f5credis\u7684key \u662f\u5b57\u7b26\u4e32 // value\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u6216\u5b57\u7b26\u4e32\u7c7b\u578b\u5143\u7d20 private StringRedisTemplate template; @Test public void testRedis(){ //name\uff1adafei template.opsForValue().set(\"name\", \"dafei\"); System.out.println(template.opsForValue().get(\"name\")); // \u64cd\u4f5cstring //template.opsForValue().xx(); // \u64cd\u4f5chash //template.opsForHash().xx(); // \u64cd\u4f5clist //template.opsForList().xx(); // \u64cd\u4f5cset //template.opsForSet().xx(); // \u64cd\u4f5czset //template.opsForZSet().xx(); //spring-data-redis \u65b9\u6cd5\u662fredis \u547d\u4ee4\u5168\u79f0 //template.opsForList().rightPush() //rpush //\u5168\u5c40\u547d\u4ee4\u5728template\u7c7b\u4e0a //template.keys(\"*\"); } } \u64cd\u4f5c\u6280\u5de7\uff1aLettuce\u4e2d\u65b9\u6cd5\u8ddfRedis\u4e2d\u547d\u4ee4\u5168\u79f0","title":"Lettuce"},{"location":"redis/redis-langfei/#_34","text":"\u7c7b\u4f3c\u6548\u679c\uff1ahttps://www.mafengwo.cn/gonglve/ziyouxing/2339.html *","title":"\u5c0f\u6848\u4f8b"}]}